(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();var Cc={exports:{}},Hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Z0(){if(km)return Hs;km=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var _ in o)_!=="key"&&(f[_]=o[_])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Hs.Fragment=n,Hs.jsx=l,Hs.jsxs=l,Hs}var qm;function P0(){return qm||(qm=1,Cc.exports=Z0()),Cc.exports}var I=P0(),Tc={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function F0(){if(jm)return J;jm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,G={};function F(E,z,q){this.props=E,this.context=z,this.refs=G,this.updater=q||U}F.prototype.isReactComponent={},F.prototype.setState=function(E,z){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,z,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function _e(){}_e.prototype=F.prototype;function Ae(E,z,q){this.props=E,this.context=z,this.refs=G,this.updater=q||U}var Se=Ae.prototype=new _e;Se.constructor=Ae,L(Se,F.prototype),Se.isPureReactComponent=!0;var We=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},Je=Object.prototype.hasOwnProperty;function $(E,z,q,B,V,oe){return q=oe.ref,{$$typeof:s,type:E,key:z,ref:q!==void 0?q:null,props:oe}}function de(E,z){return $(E.type,z,void 0,void 0,void 0,E.props)}function Qt(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Hi(E){var z={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return z[q]})}var nn=/\/+/g;function it(E,z){return typeof E=="object"&&E!==null&&E.key!=null?Hi(""+E.key):z.toString(36)}function ni(){}function ii(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ni,ni):(E.status="pending",E.then(function(z){E.status==="pending"&&(E.status="fulfilled",E.value=z)},function(z){E.status==="pending"&&(E.status="rejected",E.reason=z)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function lt(E,z,q,B,V){var oe=typeof E;(oe==="undefined"||oe==="boolean")&&(E=null);var W=!1;if(E===null)W=!0;else switch(oe){case"bigint":case"string":case"number":W=!0;break;case"object":switch(E.$$typeof){case s:case n:W=!0;break;case v:return W=E._init,lt(W(E._payload),z,q,B,V)}}if(W)return V=V(E),W=B===""?"."+it(E,0):B,We(V)?(q="",W!=null&&(q=W.replace(nn,"$&/")+"/"),lt(V,z,q,"",function(An){return An})):V!=null&&(Qt(V)&&(V=de(V,q+(V.key==null||E&&E.key===V.key?"":(""+V.key).replace(nn,"$&/")+"/")+W)),z.push(V)),1;W=0;var yt=B===""?".":B+":";if(We(E))for(var we=0;we<E.length;we++)B=E[we],oe=yt+it(B,we),W+=lt(B,z,q,oe,V);else if(we=b(E),typeof we=="function")for(E=we.call(E),we=0;!(B=E.next()).done;)B=B.value,oe=yt+it(B,we++),W+=lt(B,z,q,oe,V);else if(oe==="object"){if(typeof E.then=="function")return lt(ii(E),z,q,B,V);throw z=String(E),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return W}function O(E,z,q){if(E==null)return E;var B=[],V=0;return lt(E,B,"","",function(oe){return z.call(q,oe,V++)}),B}function k(E){if(E._status===-1){var z=E._result;z=z(),z.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=z)}if(E._status===1)return E._result.default;throw E._result}var K=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Ee(){}return J.Children={map:O,forEach:function(E,z,q){O(E,function(){z.apply(this,arguments)},q)},count:function(E){var z=0;return O(E,function(){z++}),z},toArray:function(E){return O(E,function(z){return z})||[]},only:function(E){if(!Qt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},J.Component=F,J.Fragment=l,J.Profiler=o,J.PureComponent=Ae,J.StrictMode=r,J.Suspense=p,J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,J.__COMPILER_RUNTIME={__proto__:null,c:function(E){return re.H.useMemoCache(E)}},J.cache=function(E){return function(){return E.apply(null,arguments)}},J.cloneElement=function(E,z,q){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var B=L({},E.props),V=E.key,oe=void 0;if(z!=null)for(W in z.ref!==void 0&&(oe=void 0),z.key!==void 0&&(V=""+z.key),z)!Je.call(z,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&z.ref===void 0||(B[W]=z[W]);var W=arguments.length-2;if(W===1)B.children=q;else if(1<W){for(var yt=Array(W),we=0;we<W;we++)yt[we]=arguments[we+2];B.children=yt}return $(E.type,V,void 0,void 0,oe,B)},J.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},J.createElement=function(E,z,q){var B,V={},oe=null;if(z!=null)for(B in z.key!==void 0&&(oe=""+z.key),z)Je.call(z,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(V[B]=z[B]);var W=arguments.length-2;if(W===1)V.children=q;else if(1<W){for(var yt=Array(W),we=0;we<W;we++)yt[we]=arguments[we+2];V.children=yt}if(E&&E.defaultProps)for(B in W=E.defaultProps,W)V[B]===void 0&&(V[B]=W[B]);return $(E,oe,void 0,void 0,null,V)},J.createRef=function(){return{current:null}},J.forwardRef=function(E){return{$$typeof:_,render:E}},J.isValidElement=Qt,J.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:k}},J.memo=function(E,z){return{$$typeof:m,type:E,compare:z===void 0?null:z}},J.startTransition=function(E){var z=re.T,q={};re.T=q;try{var B=E(),V=re.S;V!==null&&V(q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(Ee,K)}catch(oe){K(oe)}finally{re.T=z}},J.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},J.use=function(E){return re.H.use(E)},J.useActionState=function(E,z,q){return re.H.useActionState(E,z,q)},J.useCallback=function(E,z){return re.H.useCallback(E,z)},J.useContext=function(E){return re.H.useContext(E)},J.useDebugValue=function(){},J.useDeferredValue=function(E,z){return re.H.useDeferredValue(E,z)},J.useEffect=function(E,z,q){var B=re.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return B.useEffect(E,z)},J.useId=function(){return re.H.useId()},J.useImperativeHandle=function(E,z,q){return re.H.useImperativeHandle(E,z,q)},J.useInsertionEffect=function(E,z){return re.H.useInsertionEffect(E,z)},J.useLayoutEffect=function(E,z){return re.H.useLayoutEffect(E,z)},J.useMemo=function(E,z){return re.H.useMemo(E,z)},J.useOptimistic=function(E,z){return re.H.useOptimistic(E,z)},J.useReducer=function(E,z,q){return re.H.useReducer(E,z,q)},J.useRef=function(E){return re.H.useRef(E)},J.useState=function(E){return re.H.useState(E)},J.useSyncExternalStore=function(E,z,q){return re.H.useSyncExternalStore(E,z,q)},J.useTransition=function(){return re.H.useTransition()},J.version="19.1.1",J}var Ym;function uf(){return Ym||(Ym=1,Tc.exports=F0()),Tc.exports}var Ie=uf(),Ac={exports:{}},Is={},Nc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function W0(){return Gm||(Gm=1,(function(s){function n(O,k){var K=O.length;O.push(k);e:for(;0<K;){var Ee=K-1>>>1,E=O[Ee];if(0<o(E,k))O[Ee]=k,O[K]=E,K=Ee;else break e}}function l(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var k=O[0],K=O.pop();if(K!==k){O[0]=K;e:for(var Ee=0,E=O.length,z=E>>>1;Ee<z;){var q=2*(Ee+1)-1,B=O[q],V=q+1,oe=O[V];if(0>o(B,K))V<E&&0>o(oe,B)?(O[Ee]=oe,O[V]=K,Ee=V):(O[Ee]=B,O[q]=K,Ee=q);else if(V<E&&0>o(oe,K))O[Ee]=oe,O[V]=K,Ee=V;else break e}}return k}function o(O,k){var K=O.sortIndex-k.sortIndex;return K!==0?K:O.id-k.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,_=h.now();s.unstable_now=function(){return h.now()-_}}var p=[],m=[],v=1,S=null,b=3,U=!1,L=!1,G=!1,F=!1,_e=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function We(O){for(var k=l(m);k!==null;){if(k.callback===null)r(m);else if(k.startTime<=O)r(m),k.sortIndex=k.expirationTime,n(p,k);else break;k=l(m)}}function re(O){if(G=!1,We(O),!L)if(l(p)!==null)L=!0,Je||(Je=!0,it());else{var k=l(m);k!==null&&lt(re,k.startTime-O)}}var Je=!1,$=-1,de=5,Qt=-1;function Hi(){return F?!0:!(s.unstable_now()-Qt<de)}function nn(){if(F=!1,Je){var O=s.unstable_now();Qt=O;var k=!0;try{e:{L=!1,G&&(G=!1,Ae($),$=-1),U=!0;var K=b;try{t:{for(We(O),S=l(p);S!==null&&!(S.expirationTime>O&&Hi());){var Ee=S.callback;if(typeof Ee=="function"){S.callback=null,b=S.priorityLevel;var E=Ee(S.expirationTime<=O);if(O=s.unstable_now(),typeof E=="function"){S.callback=E,We(O),k=!0;break t}S===l(p)&&r(p),We(O)}else r(p);S=l(p)}if(S!==null)k=!0;else{var z=l(m);z!==null&&lt(re,z.startTime-O),k=!1}}break e}finally{S=null,b=K,U=!1}k=void 0}}finally{k?it():Je=!1}}}var it;if(typeof Se=="function")it=function(){Se(nn)};else if(typeof MessageChannel<"u"){var ni=new MessageChannel,ii=ni.port2;ni.port1.onmessage=nn,it=function(){ii.postMessage(null)}}else it=function(){_e(nn,0)};function lt(O,k){$=_e(function(){O(s.unstable_now())},k)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(O){O.callback=null},s.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<O?Math.floor(1e3/O):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(O){switch(b){case 1:case 2:case 3:var k=3;break;default:k=b}var K=b;b=k;try{return O()}finally{b=K}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=b;b=O;try{return k()}finally{b=K}},s.unstable_scheduleCallback=function(O,k,K){var Ee=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Ee+K:Ee):K=Ee,O){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=K+E,O={id:v++,callback:k,priorityLevel:O,startTime:K,expirationTime:E,sortIndex:-1},K>Ee?(O.sortIndex=K,n(m,O),l(p)===null&&O===l(m)&&(G?(Ae($),$=-1):G=!0,lt(re,K-Ee))):(O.sortIndex=E,n(p,O),L||U||(L=!0,Je||(Je=!0,it()))),O},s.unstable_shouldYield=Hi,s.unstable_wrapCallback=function(O){var k=b;return function(){var K=b;b=k;try{return O.apply(this,arguments)}finally{b=K}}}})(Rc)),Rc}var Vm;function J0(){return Vm||(Vm=1,Nc.exports=W0()),Nc.exports}var Dc={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function $0(){if(Qm)return rt;Qm=1;var s=uf();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:m,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(p,m,null,v)},rt.flushSync=function(p){var m=h.T,v=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=v,r.d.f()}},rt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},rt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},rt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,S=_(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,U=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:U}):v==="script"&&r.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:U,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},rt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=_(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},rt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=_(v,m.crossOrigin);r.d.L(p,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},rt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=_(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},rt.requestFormReset=function(p){r.d.r(p)},rt.unstable_batchedUpdates=function(p,m){return p(m)},rt.useFormState=function(p,m,v){return h.H.useFormState(p,m,v)},rt.useFormStatus=function(){return h.H.useHostTransitionStatus()},rt.version="19.1.1",rt}var Xm;function e1(){if(Xm)return Dc.exports;Xm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Dc.exports=$0(),Dc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function t1(){if(Km)return Is;Km=1;var s=J0(),n=uf(),l=e1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(f(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return _(u),e;if(c===a)return _(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=u,a=c;else{for(var d=!1,g=u.child;g;){if(g===i){d=!0,i=u,a=c;break}if(g===a){d=!0,a=u,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=u;break}if(g===a){d=!0,a=c,i=u;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function m(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=m(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Ae=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Qt=Symbol.for("react.activity"),Hi=Symbol.for("react.memo_cache_sentinel"),nn=Symbol.iterator;function it(e){return e===null||typeof e!="object"?null:(e=nn&&e[nn]||e["@@iterator"],typeof e=="function"?e:null)}var ni=Symbol.for("react.client.reference");function ii(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ni?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case re:return"Suspense";case Je:return"SuspenseList";case Qt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Se:return(e.displayName||"Context")+".Provider";case Ae:return(e._context.displayName||"Context")+".Consumer";case We:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:ii(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ii(e(t))}catch{}}return null}var lt=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Ee=[],E=-1;function z(e){return{current:e}}function q(e){0>E||(e.current=Ee[E],Ee[E]=null,E--)}function B(e,t){E++,Ee[E]=e.current,e.current=t}var V=z(null),oe=z(null),W=z(null),yt=z(null);function we(e,t){switch(B(W,t),B(oe,e),B(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(V),B(V,e)}function An(){q(V),q(oe),q(W)}function ru(e){e.memoizedState!==null&&B(yt,e);var t=V.current,i=_m(t,e.type);t!==i&&(B(oe,e),B(V,i))}function ha(e){oe.current===e&&(q(V),q(oe)),yt.current===e&&(q(yt),xs._currentValue=K)}var uu=Object.prototype.hasOwnProperty,ou=s.unstable_scheduleCallback,cu=s.unstable_cancelCallback,Ny=s.unstable_shouldYield,Ry=s.unstable_requestPaint,Xt=s.unstable_now,Dy=s.unstable_getCurrentPriorityLevel,Kf=s.unstable_ImmediatePriority,Zf=s.unstable_UserBlockingPriority,da=s.unstable_NormalPriority,wy=s.unstable_LowPriority,Pf=s.unstable_IdlePriority,Oy=s.log,xy=s.unstable_setDisableYieldValue,kl=null,vt=null;function Nn(e){if(typeof Oy=="function"&&xy(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(kl,e)}catch{}}var bt=Math.clz32?Math.clz32:zy,My=Math.log,Uy=Math.LN2;function zy(e){return e>>>=0,e===0?32:31-(My(e)/Uy|0)|0}var _a=256,ma=4194304;function li(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?u=li(a):(d&=g,d!==0?u=li(d):i||(i=g&~e,i!==0&&(u=li(i))))):(g=a&~c,g!==0?u=li(g):d!==0?u=li(d):i||(i=a&~e,i!==0&&(u=li(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function ql(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ly(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(){var e=_a;return _a<<=1,(_a&4194048)===0&&(_a=256),e}function Wf(){var e=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),e}function fu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function jl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hy(e,t,i,a,u,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,y=e.expirationTimes,N=e.hiddenUpdates;for(i=d&~i;0<i;){var w=31-bt(i),M=1<<w;g[w]=0,y[w]=-1;var R=N[w];if(R!==null)for(N[w]=null,w=0;w<R.length;w++){var D=R[w];D!==null&&(D.lane&=-536870913)}i&=~M}a!==0&&Jf(e,a,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function Jf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-bt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194090}function $f(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-bt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}function hu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function du(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eh(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Um(e.type))}function Iy(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var Rn=Math.random().toString(36).slice(2),st="__reactFiber$"+Rn,ct="__reactProps$"+Rn,Ii="__reactContainer$"+Rn,_u="__reactEvents$"+Rn,By="__reactListeners$"+Rn,ky="__reactHandles$"+Rn,th="__reactResources$"+Rn,Yl="__reactMarker$"+Rn;function mu(e){delete e[st],delete e[ct],delete e[_u],delete e[By],delete e[ky]}function Bi(e){var t=e[st];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Ii]||i[st]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ym(e);e!==null;){if(i=e[st])return i;e=ym(e)}return t}e=i,i=e.parentNode}return null}function ki(e){if(e=e[st]||e[Ii]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Gl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function qi(e){var t=e[th];return t||(t=e[th]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[Yl]=!0}var nh=new Set,ih={};function si(e,t){ji(e,t),ji(e+"Capture",t)}function ji(e,t){for(ih[e]=t,e=0;e<t.length;e++)nh.add(t[e])}var qy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lh={},sh={};function jy(e){return uu.call(sh,e)?!0:uu.call(lh,e)?!1:qy.test(e)?sh[e]=!0:(lh[e]=!0,!1)}function pa(e,t,i){if(jy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ya(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ln(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}var gu,ah;function Yi(e){if(gu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);gu=t&&t[1]||"",ah=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+e+ah}var pu=!1;function yu(e,t){if(!e||pu)return"";pu=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(D){var R=D}Reflect.construct(e,[],M)}else{try{M.call()}catch(D){R=D}e.call(M.prototype)}}else{try{throw Error()}catch(D){R=D}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var y=d.split(`
`),N=g.split(`
`);for(u=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;if(a===y.length||u===N.length)for(a=y.length-1,u=N.length-1;1<=a&&0<=u&&y[a]!==N[u];)u--;for(;1<=a&&0<=u;a--,u--)if(y[a]!==N[u]){if(a!==1||u!==1)do if(a--,u--,0>u||y[a]!==N[u]){var w=`
`+y[a].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=a&&0<=u);break}}}finally{pu=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Yi(i):""}function Yy(e){switch(e.tag){case 26:case 27:case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return yu(e.type,!1);case 11:return yu(e.type.render,!1);case 1:return yu(e.type,!0);case 31:return Yi("Activity");default:return""}}function rh(e){try{var t="";do t+=Yy(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gy(e){var t=uh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function va(e){e._valueTracker||(e._valueTracker=Gy(e))}function oh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=uh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vy=/[\n"\\]/g;function Ot(e){return e.replace(Vy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vu(e,t,i,a,u,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?bu(e,d,wt(t)):i!=null?bu(e,d,wt(i)):a!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+wt(g):e.removeAttribute("name")}function ch(e,t,i,a,u,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+wt(i):"",t=t!=null?""+wt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function bu(e,t,i){t==="number"&&ba(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gi(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+wt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fh(e,t,i){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+wt(i):""}function hh(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(lt(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=wt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function Vi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Qy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Qy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function _h(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&i[u]!==a&&dh(e,u,a)}else for(var c in t)t.hasOwnProperty(c)&&dh(e,c,t[c])}function Su(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Ky.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Eu=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Xi=null;function mh(e){var t=ki(e);if(t&&(e=t.stateNode)){var i=e[ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(vu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=a[ct]||null;if(!u)throw Error(r(90));vu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&oh(a)}break e;case"textarea":fh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gi(e,!!i.multiple,t,!1)}}}var Tu=!1;function gh(e,t,i){if(Tu)return e(t,i);Tu=!0;try{var a=e(t);return a}finally{if(Tu=!1,(Qi!==null||Xi!==null)&&(ar(),Qi&&(t=Qi,e=Xi,Xi=Qi=null,mh(t),e)))for(t=0;t<e.length;t++)mh(e[t])}}function Vl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[ct]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(sn)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Au=!1}var Dn=null,Nu=null,Ea=null;function ph(){if(Ea)return Ea;var e,t=Nu,i=t.length,a,u="value"in Dn?Dn.value:Dn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===u[c-a];a++);return Ea=u.slice(e,1<a?1-a:void 0)}function Ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function yh(){return!1}function ft(e){function t(i,a,u,c,d){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ta:yh,this.isPropagationStopped=yh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=ft(ai),Xl=v({},ai,{view:0,detail:0}),Zy=ft(Xl),Ru,Du,Kl,Na=v({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Ru=e.screenX-Kl.screenX,Du=e.screenY-Kl.screenY):Du=Ru=0,Kl=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),vh=ft(Na),Py=v({},Na,{dataTransfer:0}),Fy=ft(Py),Wy=v({},Xl,{relatedTarget:0}),wu=ft(Wy),Jy=v({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=ft(Jy),ev=v({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tv=ft(ev),nv=v({},ai,{data:0}),bh=ft(nv),iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function av(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sv[e])?!!t[e]:!1}function Ou(){return av}var rv=v({},Xl,{key:function(e){if(e.key){var t=iv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uv=ft(rv),ov=v({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=ft(ov),cv=v({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),fv=ft(cv),hv=v({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),dv=ft(hv),_v=v({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mv=ft(_v),gv=v({},ai,{newState:0,oldState:0}),pv=ft(gv),yv=[9,13,27,32],xu=sn&&"CompositionEvent"in window,Zl=null;sn&&"documentMode"in document&&(Zl=document.documentMode);var vv=sn&&"TextEvent"in window&&!Zl,Eh=sn&&(!xu||Zl&&8<Zl&&11>=Zl),Ch=" ",Th=!1;function Ah(e,t){switch(e){case"keyup":return yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function bv(e,t){switch(e){case"compositionend":return Nh(t);case"keypress":return t.which!==32?null:(Th=!0,Ch);case"textInput":return e=t.data,e===Ch&&Th?null:e;default:return null}}function Sv(e,t){if(Ki)return e==="compositionend"||!xu&&Ah(e,t)?(e=ph(),Ea=Nu=Dn=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eh&&t.locale!=="ko"?null:t.data;default:return null}}var Ev={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ev[e.type]:t==="textarea"}function Dh(e,t,i,a){Qi?Xi?Xi.push(a):Xi=[a]:Qi=a,t=hr(t,"onChange"),0<t.length&&(i=new Aa("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Pl=null,Fl=null;function Cv(e){um(e,0)}function Ra(e){var t=Gl(e);if(oh(t))return e}function wh(e,t){if(e==="change")return t}var Oh=!1;if(sn){var Mu;if(sn){var Uu="oninput"in document;if(!Uu){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Uu=typeof xh.oninput=="function"}Mu=Uu}else Mu=!1;Oh=Mu&&(!document.documentMode||9<document.documentMode)}function Mh(){Pl&&(Pl.detachEvent("onpropertychange",Uh),Fl=Pl=null)}function Uh(e){if(e.propertyName==="value"&&Ra(Fl)){var t=[];Dh(t,Fl,e,Cu(e)),gh(Cv,t)}}function Tv(e,t,i){e==="focusin"?(Mh(),Pl=t,Fl=i,Pl.attachEvent("onpropertychange",Uh)):e==="focusout"&&Mh()}function Av(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ra(Fl)}function Nv(e,t){if(e==="click")return Ra(t)}function Rv(e,t){if(e==="input"||e==="change")return Ra(t)}function Dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Dv;function Wl(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!uu.call(t,u)||!St(e[u],t[u]))return!1}return!0}function zh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,t){var i=zh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zh(i)}}function Hh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ih(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ba(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ba(e.document)}return t}function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var wv=sn&&"documentMode"in document&&11>=document.documentMode,Zi=null,Lu=null,Jl=null,Hu=!1;function Bh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Hu||Zi==null||Zi!==ba(a)||(a=Zi,"selectionStart"in a&&zu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Jl&&Wl(Jl,a)||(Jl=a,a=hr(Lu,"onSelect"),0<a.length&&(t=new Aa("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Zi)))}function ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Pi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},Iu={},kh={};sn&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function ui(e){if(Iu[e])return Iu[e];if(!Pi[e])return e;var t=Pi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in kh)return Iu[e]=t[i];return e}var qh=ui("animationend"),jh=ui("animationiteration"),Yh=ui("animationstart"),Ov=ui("transitionrun"),xv=ui("transitionstart"),Mv=ui("transitioncancel"),Gh=ui("transitionend"),Vh=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function kt(e,t){Vh.set(e,t),si(t,[e])}var Qh=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var i=Qh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:rh(t)},Qh.set(e,t),t)}return{value:e,source:t,stack:rh(t)}}var Mt=[],Fi=0,ku=0;function Da(){for(var e=Fi,t=ku=Fi=0;t<e;){var i=Mt[t];Mt[t++]=null;var a=Mt[t];Mt[t++]=null;var u=Mt[t];Mt[t++]=null;var c=Mt[t];if(Mt[t++]=null,a!==null&&u!==null){var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}c!==0&&Xh(i,u,c)}}function wa(e,t,i,a){Mt[Fi++]=e,Mt[Fi++]=t,Mt[Fi++]=i,Mt[Fi++]=a,ku|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function qu(e,t,i,a){return wa(e,t,i,a),Oa(e)}function Wi(e,t){return wa(e,null,null,t),Oa(e)}function Xh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-bt(i),e=c.hiddenUpdates,a=e[u],a===null?e[u]=[t]:a.push(t),t.lane=i|536870912),c):null}function Oa(e){if(50<Cs)throw Cs=0,Ko=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ji={};function Uv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,i,a){return new Uv(e,t,i,a)}function ju(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,t){var i=e.alternate;return i===null?(i=Et(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Kh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xa(e,t,i,a,u,c){var d=0;if(a=e,typeof e=="function")ju(e)&&(d=1);else if(typeof e=="string")d=L0(e,i,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Qt:return e=Et(31,i,t,u),e.elementType=Qt,e.lanes=c,e;case L:return oi(i.children,u,c,t);case G:d=8,u|=24;break;case F:return e=Et(12,i,t,u|2),e.elementType=F,e.lanes=c,e;case re:return e=Et(13,i,t,u),e.elementType=re,e.lanes=c,e;case Je:return e=Et(19,i,t,u),e.elementType=Je,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _e:case Se:d=10;break e;case Ae:d=9;break e;case We:d=11;break e;case $:d=14;break e;case de:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Et(d,i,t,u),t.elementType=e,t.type=a,t.lanes=c,t}function oi(e,t,i,a){return e=Et(7,e,a,t),e.lanes=i,e}function Yu(e,t,i){return e=Et(6,e,null,t),e.lanes=i,e}function Gu(e,t,i){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $i=[],el=0,Ma=null,Ua=0,Ut=[],zt=0,ci=null,rn=1,un="";function fi(e,t){$i[el++]=Ua,$i[el++]=Ma,Ma=e,Ua=t}function Zh(e,t,i){Ut[zt++]=rn,Ut[zt++]=un,Ut[zt++]=ci,ci=e;var a=rn;e=un;var u=32-bt(a)-1;a&=~(1<<u),i+=1;var c=32-bt(t)+u;if(30<c){var d=u-u%5;c=(a&(1<<d)-1).toString(32),a>>=d,u-=d,rn=1<<32-bt(t)+u|i<<u|a,un=c+e}else rn=1<<c|i<<u|a,un=e}function Vu(e){e.return!==null&&(fi(e,1),Zh(e,1,0))}function Qu(e){for(;e===Ma;)Ma=$i[--el],$i[el]=null,Ua=$i[--el],$i[el]=null;for(;e===ci;)ci=Ut[--zt],Ut[zt]=null,un=Ut[--zt],Ut[zt]=null,rn=Ut[--zt],Ut[zt]=null}var ot=null,Ue=null,fe=!1,hi=null,Kt=!1,Xu=Error(r(519));function di(e){var t=Error(r(418,""));throw ts(xt(t,e)),Xu}function Ph(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[st]=e,t[ct]=a,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<As.length;i++)ae(As[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),ch(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),va(t);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),hh(t,a.value,a.defaultValue,a.children),va(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||hm(t.textContent,i)?(a.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),a.onScroll!=null&&ae("scroll",t),a.onScrollEnd!=null&&ae("scrollend",t),a.onClick!=null&&(t.onclick=dr),t=!0):t=!1,t||di(e)}function Fh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ot=ot.return}}function $l(e){if(e!==ot)return!1;if(!fe)return Fh(e),fe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||oc(e.type,e.memoizedProps)),i=!i),i&&Ue&&di(e),Fh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Ue=jt(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Ue=null}}else t===27?(t=Ue,Vn(e.type)?(e=dc,dc=null,Ue=e):Ue=t):Ue=ot?jt(e.stateNode.nextSibling):null;return!0}function es(){Ue=ot=null,fe=!1}function Wh(){var e=hi;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),hi=null),e}function ts(e){hi===null?hi=[e]:hi.push(e)}var Ku=z(null),_i=null,on=null;function wn(e,t,i){B(Ku,t._currentValue),t._currentValue=i}function cn(e){e._currentValue=Ku.current,q(Ku)}function Zu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Pu(e,t,i,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=u;for(var y=0;y<t.length;y++)if(g.context===t[y]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),Zu(c.return,i,e),a||(d=null);break e}c=g.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Zu(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function ns(e,t,i,a){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=u.type;St(u.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(u===yt.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}u=u.return}e!==null&&Pu(t,e,i,a),t.flags|=262144}function za(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){_i=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Jh(_i,e)}function La(e,t){return _i===null&&mi(e),Jh(e,t)}function Jh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},on===null){if(e===null)throw Error(r(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return i}var zv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Lv=s.unstable_scheduleCallback,Hv=s.unstable_NormalPriority,Ye={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fu(){return{controller:new zv,data:new Map,refCount:0}}function is(e){e.refCount--,e.refCount===0&&Lv(Hv,function(){e.controller.abort()})}var ls=null,Wu=0,tl=0,nl=null;function Iv(e,t){if(ls===null){var i=ls=[];Wu=0,tl=ec(),nl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Wu++,t.then($h,$h),t}function $h(){if(--Wu===0&&ls!==null){nl!==null&&(nl.status="fulfilled");var e=ls;ls=null,tl=0,nl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),a}var ed=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Iv(e,t),ed!==null&&ed(e,t)};var gi=z(null);function Ju(){var e=gi.current;return e!==null?e:Ne.pooledCache}function Ha(e,t){t===null?B(gi,gi.current):B(gi,t.pool)}function td(){var e=Ju();return e===null?null:{parent:Ye._currentValue,pool:e}}var ss=Error(r(460)),nd=Error(r(474)),Ia=Error(r(542)),$u={then:function(){}};function id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ba(){}function ld(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ba,Ba),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e;default:if(typeof t.status=="string")t.then(Ba,Ba);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e}throw as=t,ss}}var as=null;function sd(){if(as===null)throw Error(r(459));var e=as;return as=null,e}function ad(e){if(e===ss||e===Ia)throw Error(r(483))}var On=!1;function eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function to(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(me&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=Oa(e),Xh(e,null,i),t}return wa(e,a,t,i),Oa(e)}function rs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,$f(e,i)}}function no(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var io=!1;function us(){if(io){var e=nl;if(e!==null)throw e}}function os(e,t,i,a){io=!1;var u=e.updateQueue;On=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,N=y.next;y.next=null,d===null?c=N:d.next=N,d=y;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==d&&(g===null?w.firstBaseUpdate=N:g.next=N,w.lastBaseUpdate=y))}if(c!==null){var M=u.baseState;d=0,w=N=y=null,g=c;do{var R=g.lane&-536870913,D=R!==g.lane;if(D?(ue&R)===R:(a&R)===R){R!==0&&R===tl&&(io=!0),w!==null&&(w=w.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Z=e,Q=g;R=t;var be=i;switch(Q.tag){case 1:if(Z=Q.payload,typeof Z=="function"){M=Z.call(be,M,R);break e}M=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=Q.payload,R=typeof Z=="function"?Z.call(be,M,R):Z,R==null)break e;M=v({},M,R);break e;case 2:On=!0}}R=g.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[R]:D.push(R))}else D={lane:R,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(N=w=D,y=M):w=w.next=D,d|=R;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;D=g,g=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);w===null&&(y=M),u.baseState=y,u.firstBaseUpdate=N,u.lastBaseUpdate=w,c===null&&(u.shared.lanes=0),qn|=d,e.lanes=d,e.memoizedState=M}}function rd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ud(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)rd(i[e],t)}var il=z(null),ka=z(0);function od(e,t){e=pn,B(ka,e),B(il,t),pn=e|t.baseLanes}function lo(){B(ka,pn),B(il,il.current)}function so(){pn=ka.current,q(il),q(ka)}var Un=0,ee=null,ye=null,ke=null,qa=!1,ll=!1,pi=!1,ja=0,cs=0,sl=null,kv=0;function Le(){throw Error(r(321))}function ao(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!St(e[i],t[i]))return!1;return!0}function ro(e,t,i,a,u,c){return Un=c,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Xd:Kd,pi=!1,c=i(a,u),pi=!1,ll&&(c=fd(t,i,a,u)),cd(e),c}function cd(e){O.H=Ka;var t=ye!==null&&ye.next!==null;if(Un=0,ke=ye=ee=null,qa=!1,cs=0,sl=null,t)throw Error(r(300));e===null||Qe||(e=e.dependencies,e!==null&&za(e)&&(Qe=!0))}function fd(e,t,i,a){ee=e;var u=0;do{if(ll&&(sl=null),cs=0,ll=!1,25<=u)throw Error(r(301));if(u+=1,ke=ye=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=Xv,c=t(i,a)}while(ll);return c}function qv(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?fs(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(ee.flags|=1024),t}function uo(){var e=ja!==0;return ja=0,e}function oo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function co(e){if(qa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qa=!1}Un=0,ke=ye=ee=null,ll=!1,cs=ja=0,sl=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ee.memoizedState=ke=e:ke=ke.next=e,ke}function qe(){if(ye===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=ke===null?ee.memoizedState:ke.next;if(t!==null)ke=t,ye=e;else{if(e===null)throw ee.alternate===null?Error(r(467)):Error(r(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},ke===null?ee.memoizedState=ke=e:ke=ke.next=e}return ke}function fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(e){var t=cs;return cs+=1,sl===null&&(sl=[]),e=ld(sl,e,t),t=ee,(ke===null?t.memoizedState:ke.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Xd:Kd),e}function Ya(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fs(e);if(e.$$typeof===Se)return at(e)}throw Error(r(438,String(e)))}function ho(e){var t=null,i=ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=fo(),ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=Hi;return t.index++,i}function fn(e,t){return typeof t=="function"?t(e):t}function Ga(e){var t=qe();return _o(t,ye,e)}function _o(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var u=e.baseQueue,c=a.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,a.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var g=d=null,y=null,N=t,w=!1;do{var M=N.lane&-536870913;if(M!==N.lane?(ue&M)===M:(Un&M)===M){var R=N.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),M===tl&&(w=!0);else if((Un&R)===R){N=N.next,R===tl&&(w=!0);continue}else M={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(g=y=M,d=c):y=y.next=M,ee.lanes|=R,qn|=R;M=N.action,pi&&i(c,M),c=N.hasEagerState?N.eagerState:i(c,M)}else R={lane:M,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},y===null?(g=y=R,d=c):y=y.next=R,ee.lanes|=M,qn|=M;N=N.next}while(N!==null&&N!==t);if(y===null?d=c:y.next=g,!St(c,e.memoizedState)&&(Qe=!0,w&&(i=nl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,a.lastRenderedState=c}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function mo(e){var t=qe(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);St(c,t.memoizedState)||(Qe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function hd(e,t,i){var a=ee,u=qe(),c=fe;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!St((ye||u).memoizedState,i);d&&(u.memoizedState=i,Qe=!0),u=u.queue;var g=md.bind(null,a,u,e);if(hs(2048,8,g,[e]),u.getSnapshot!==t||d||ke!==null&&ke.memoizedState.tag&1){if(a.flags|=2048,al(9,Va(),_d.bind(null,a,u,i,t),null),Ne===null)throw Error(r(349));c||(Un&124)!==0||dd(a,t,i)}return i}function dd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t=fo(),ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function _d(e,t,i,a){t.value=i,t.getSnapshot=a,gd(t)&&pd(e)}function md(e,t,i){return i(function(){gd(t)&&pd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!St(e,i)}catch{return!0}}function pd(e){var t=Wi(e,2);t!==null&&Rt(t,e,2)}function go(e){var t=ht();if(typeof e=="function"){var i=e;if(e=i(),pi){Nn(!0);try{i()}finally{Nn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function yd(e,t,i,a){return e.baseState=i,_o(e,ye,typeof a=="function"?a:fn)}function jv(e,t,i,a,u){if(Xa(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,vd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function vd(e,t){var i=t.action,a=t.payload,u=e.state;if(t.isTransition){var c=O.T,d={};O.T=d;try{var g=i(u,a),y=O.S;y!==null&&y(d,g),bd(e,t,g)}catch(N){po(e,t,N)}finally{O.T=c}}else try{c=i(u,a),bd(e,t,c)}catch(N){po(e,t,N)}}function bd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Sd(e,t,a)},function(a){return po(e,t,a)}):Sd(e,t,i)}function Sd(e,t,i){t.status="fulfilled",t.value=i,Ed(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,vd(e,i)))}function po(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Ed(t),t=t.next;while(t!==a)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cd(e,t){return t}function Td(e,t){if(fe){var i=Ne.formState;if(i!==null){e:{var a=ee;if(fe){if(Ue){t:{for(var u=Ue,c=Kt;u.nodeType!==8;){if(!c){u=null;break t}if(u=jt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Ue=jt(u.nextSibling),a=u.data==="F!";break e}}di(a)}a=!1}a&&(t=i[0])}}return i=ht(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},i.queue=a,i=Gd.bind(null,ee,a),a.dispatch=i,a=go(!1),c=Eo.bind(null,ee,!1,a.queue),a=ht(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,i=jv.bind(null,ee,u,c,i),u.dispatch=i,a.memoizedState=e,[t,i,!1]}function Ad(e){var t=qe();return Nd(t,ye,e)}function Nd(e,t,i){if(t=_o(e,t,Cd)[0],e=Ga(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=fs(t)}catch(d){throw d===ss?Ia:d}else a=t;t=qe();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(ee.flags|=2048,al(9,Va(),Yv.bind(null,u,i),null)),[a,c,e]}function Yv(e,t){e.action=t}function Rd(e){var t=qe(),i=ye;if(i!==null)return Nd(t,i,e);qe(),t=t.memoizedState,i=qe();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function al(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=ee.updateQueue,t===null&&(t=fo(),ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Va(){return{destroy:void 0,resource:void 0}}function Dd(){return qe().memoizedState}function Qa(e,t,i,a){var u=ht();a=a===void 0?null:a,ee.flags|=e,u.memoizedState=al(1|t,Va(),i,a)}function hs(e,t,i,a){var u=qe();a=a===void 0?null:a;var c=u.memoizedState.inst;ye!==null&&a!==null&&ao(a,ye.memoizedState.deps)?u.memoizedState=al(t,c,i,a):(ee.flags|=e,u.memoizedState=al(1|t,c,i,a))}function wd(e,t){Qa(8390656,8,e,t)}function Od(e,t){hs(2048,8,e,t)}function xd(e,t){return hs(4,2,e,t)}function Md(e,t){return hs(4,4,e,t)}function Ud(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zd(e,t,i){i=i!=null?i.concat([e]):null,hs(4,4,Ud.bind(null,t,e),i)}function yo(){}function Ld(e,t){var i=qe();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&ao(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Hd(e,t){var i=qe();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&ao(t,a[1]))return a[0];if(a=e(),pi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[a,t],a}function vo(e,t,i){return i===void 0||(Un&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=k_(),ee.lanes|=e,qn|=e,i)}function Id(e,t,i,a){return St(i,t)?i:il.current!==null?(e=vo(e,i,a),St(e,t)||(Qe=!0),e):(Un&42)===0?(Qe=!0,e.memoizedState=i):(e=k_(),ee.lanes|=e,qn|=e,t)}function Bd(e,t,i,a,u){var c=k.p;k.p=c!==0&&8>c?c:8;var d=O.T,g={};O.T=g,Eo(e,!1,t,i);try{var y=u(),N=O.S;if(N!==null&&N(g,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=Bv(y,a);ds(e,t,w,Nt(e))}else ds(e,t,a,Nt(e))}catch(M){ds(e,t,{then:function(){},status:"rejected",reason:M},Nt())}finally{k.p=c,O.T=d}}function Gv(){}function bo(e,t,i,a){if(e.tag!==5)throw Error(r(476));var u=kd(e).queue;Bd(e,u,t,K,i===null?Gv:function(){return qd(e),i(a)})}function kd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:K},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qd(e){var t=kd(e).next.queue;ds(e,t,{},Nt())}function So(){return at(xs)}function jd(){return qe().memoizedState}function Yd(){return qe().memoizedState}function Vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Nt();e=xn(i);var a=Mn(t,e,i);a!==null&&(Rt(a,t,i),rs(a,t,i)),t={cache:Fu()},e.payload=t;return}t=t.return}}function Qv(e,t,i){var a=Nt();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Xa(e)?Vd(t,i):(i=qu(e,t,i,a),i!==null&&(Rt(i,e,a),Qd(i,t,a)))}function Gd(e,t,i){var a=Nt();ds(e,t,i,a)}function ds(e,t,i,a){var u={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Vd(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(u.hasEagerState=!0,u.eagerState=g,St(g,d))return wa(e,t,u,0),Ne===null&&Da(),!1}catch{}finally{}if(i=qu(e,t,u,a),i!==null)return Rt(i,e,a),Qd(i,t,a),!0}return!1}function Eo(e,t,i,a){if(a={lane:2,revertLane:ec(),action:a,hasEagerState:!1,eagerState:null,next:null},Xa(e)){if(t)throw Error(r(479))}else t=qu(e,i,a,2),t!==null&&Rt(t,e,2)}function Xa(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Vd(e,t){ll=qa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Qd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,$f(e,i)}}var Ka={readContext:at,use:Ya,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},Xd={readContext:at,use:Ya,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:wd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Qa(4194308,4,Ud.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qa(4194308,4,e,t)},useInsertionEffect:function(e,t){Qa(4,2,e,t)},useMemo:function(e,t){var i=ht();t=t===void 0?null:t;var a=e();if(pi){Nn(!0);try{e()}finally{Nn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=ht();if(i!==void 0){var u=i(t);if(pi){Nn(!0);try{i(t)}finally{Nn(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=Qv.bind(null,ee,e),[a.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:function(e){e=go(e);var t=e.queue,i=Gd.bind(null,ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:yo,useDeferredValue:function(e,t){var i=ht();return vo(i,e,t)},useTransition:function(){var e=go(!1);return e=Bd.bind(null,ee,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ee,u=ht();if(fe){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ne===null)throw Error(r(349));(ue&124)!==0||dd(a,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,wd(md.bind(null,a,c,e),[e]),a.flags|=2048,al(9,Va(),_d.bind(null,a,c,i,t),null),i},useId:function(){var e=ht(),t=Ne.identifierPrefix;if(fe){var i=un,a=rn;i=(a&~(1<<32-bt(a)-1)).toString(32)+i,t="«"+t+"R"+i,i=ja++,0<i&&(t+="H"+i.toString(32)),t+="»"}else i=kv++,t="«"+t+"r"+i.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:So,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=ht();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Eo.bind(null,ee,!0,i),i.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return ht().memoizedState=Vv.bind(null,ee)}},Kd={readContext:at,use:Ya,useCallback:Ld,useContext:at,useEffect:Od,useImperativeHandle:zd,useInsertionEffect:xd,useLayoutEffect:Md,useMemo:Hd,useReducer:Ga,useRef:Dd,useState:function(){return Ga(fn)},useDebugValue:yo,useDeferredValue:function(e,t){var i=qe();return Id(i,ye.memoizedState,e,t)},useTransition:function(){var e=Ga(fn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:hd,useId:jd,useHostTransitionStatus:So,useFormState:Ad,useActionState:Ad,useOptimistic:function(e,t){var i=qe();return yd(i,ye,e,t)},useMemoCache:ho,useCacheRefresh:Yd},Xv={readContext:at,use:Ya,useCallback:Ld,useContext:at,useEffect:Od,useImperativeHandle:zd,useInsertionEffect:xd,useLayoutEffect:Md,useMemo:Hd,useReducer:mo,useRef:Dd,useState:function(){return mo(fn)},useDebugValue:yo,useDeferredValue:function(e,t){var i=qe();return ye===null?vo(i,e,t):Id(i,ye.memoizedState,e,t)},useTransition:function(){var e=mo(fn)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:hd,useId:jd,useHostTransitionStatus:So,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var i=qe();return ye!==null?yd(i,ye,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ho,useCacheRefresh:Yd},rl=null,_s=0;function Za(e){var t=_s;return _s+=1,rl===null&&(rl=[]),ld(rl,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Pa(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zd(e){var t=e._init;return t(e._payload)}function Pd(e){function t(T,C){if(e){var A=T.deletions;A===null?(T.deletions=[C],T.flags|=16):A.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function a(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function u(T,C){return T=an(T,C),T.index=0,T.sibling=null,T}function c(T,C,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<C?(T.flags|=67108866,C):A):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function g(T,C,A,x){return C===null||C.tag!==6?(C=Yu(A,T.mode,x),C.return=T,C):(C=u(C,A),C.return=T,C)}function y(T,C,A,x){var j=A.type;return j===L?w(T,C,A.props.children,x,A.key):C!==null&&(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===de&&Zd(j)===C.type)?(C=u(C,A.props),ms(C,A),C.return=T,C):(C=xa(A.type,A.key,A.props,null,T.mode,x),ms(C,A),C.return=T,C)}function N(T,C,A,x){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Gu(A,T.mode,x),C.return=T,C):(C=u(C,A.children||[]),C.return=T,C)}function w(T,C,A,x,j){return C===null||C.tag!==7?(C=oi(A,T.mode,x,j),C.return=T,C):(C=u(C,A),C.return=T,C)}function M(T,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Yu(""+C,T.mode,A),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return A=xa(C.type,C.key,C.props,null,T.mode,A),ms(A,C),A.return=T,A;case U:return C=Gu(C,T.mode,A),C.return=T,C;case de:var x=C._init;return C=x(C._payload),M(T,C,A)}if(lt(C)||it(C))return C=oi(C,T.mode,A,null),C.return=T,C;if(typeof C.then=="function")return M(T,Za(C),A);if(C.$$typeof===Se)return M(T,La(T,C),A);Pa(T,C)}return null}function R(T,C,A,x){var j=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return j!==null?null:g(T,C,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return A.key===j?y(T,C,A,x):null;case U:return A.key===j?N(T,C,A,x):null;case de:return j=A._init,A=j(A._payload),R(T,C,A,x)}if(lt(A)||it(A))return j!==null?null:w(T,C,A,x,null);if(typeof A.then=="function")return R(T,C,Za(A),x);if(A.$$typeof===Se)return R(T,C,La(T,A),x);Pa(T,A)}return null}function D(T,C,A,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return T=T.get(A)||null,g(C,T,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return T=T.get(x.key===null?A:x.key)||null,y(C,T,x,j);case U:return T=T.get(x.key===null?A:x.key)||null,N(C,T,x,j);case de:var ne=x._init;return x=ne(x._payload),D(T,C,A,x,j)}if(lt(x)||it(x))return T=T.get(A)||null,w(C,T,x,j,null);if(typeof x.then=="function")return D(T,C,A,Za(x),j);if(x.$$typeof===Se)return D(T,C,A,La(C,x),j);Pa(C,x)}return null}function Z(T,C,A,x){for(var j=null,ne=null,Y=C,X=C=0,Ke=null;Y!==null&&X<A.length;X++){Y.index>X?(Ke=Y,Y=null):Ke=Y.sibling;var ce=R(T,Y,A[X],x);if(ce===null){Y===null&&(Y=Ke);break}e&&Y&&ce.alternate===null&&t(T,Y),C=c(ce,C,X),ne===null?j=ce:ne.sibling=ce,ne=ce,Y=Ke}if(X===A.length)return i(T,Y),fe&&fi(T,X),j;if(Y===null){for(;X<A.length;X++)Y=M(T,A[X],x),Y!==null&&(C=c(Y,C,X),ne===null?j=Y:ne.sibling=Y,ne=Y);return fe&&fi(T,X),j}for(Y=a(Y);X<A.length;X++)Ke=D(Y,T,X,A[X],x),Ke!==null&&(e&&Ke.alternate!==null&&Y.delete(Ke.key===null?X:Ke.key),C=c(Ke,C,X),ne===null?j=Ke:ne.sibling=Ke,ne=Ke);return e&&Y.forEach(function(Pn){return t(T,Pn)}),fe&&fi(T,X),j}function Q(T,C,A,x){if(A==null)throw Error(r(151));for(var j=null,ne=null,Y=C,X=C=0,Ke=null,ce=A.next();Y!==null&&!ce.done;X++,ce=A.next()){Y.index>X?(Ke=Y,Y=null):Ke=Y.sibling;var Pn=R(T,Y,ce.value,x);if(Pn===null){Y===null&&(Y=Ke);break}e&&Y&&Pn.alternate===null&&t(T,Y),C=c(Pn,C,X),ne===null?j=Pn:ne.sibling=Pn,ne=Pn,Y=Ke}if(ce.done)return i(T,Y),fe&&fi(T,X),j;if(Y===null){for(;!ce.done;X++,ce=A.next())ce=M(T,ce.value,x),ce!==null&&(C=c(ce,C,X),ne===null?j=ce:ne.sibling=ce,ne=ce);return fe&&fi(T,X),j}for(Y=a(Y);!ce.done;X++,ce=A.next())ce=D(Y,T,X,ce.value,x),ce!==null&&(e&&ce.alternate!==null&&Y.delete(ce.key===null?X:ce.key),C=c(ce,C,X),ne===null?j=ce:ne.sibling=ce,ne=ce);return e&&Y.forEach(function(K0){return t(T,K0)}),fe&&fi(T,X),j}function be(T,C,A,x){if(typeof A=="object"&&A!==null&&A.type===L&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case b:e:{for(var j=A.key;C!==null;){if(C.key===j){if(j=A.type,j===L){if(C.tag===7){i(T,C.sibling),x=u(C,A.props.children),x.return=T,T=x;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===de&&Zd(j)===C.type){i(T,C.sibling),x=u(C,A.props),ms(x,A),x.return=T,T=x;break e}i(T,C);break}else t(T,C);C=C.sibling}A.type===L?(x=oi(A.props.children,T.mode,x,A.key),x.return=T,T=x):(x=xa(A.type,A.key,A.props,null,T.mode,x),ms(x,A),x.return=T,T=x)}return d(T);case U:e:{for(j=A.key;C!==null;){if(C.key===j)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){i(T,C.sibling),x=u(C,A.children||[]),x.return=T,T=x;break e}else{i(T,C);break}else t(T,C);C=C.sibling}x=Gu(A,T.mode,x),x.return=T,T=x}return d(T);case de:return j=A._init,A=j(A._payload),be(T,C,A,x)}if(lt(A))return Z(T,C,A,x);if(it(A)){if(j=it(A),typeof j!="function")throw Error(r(150));return A=j.call(A),Q(T,C,A,x)}if(typeof A.then=="function")return be(T,C,Za(A),x);if(A.$$typeof===Se)return be(T,C,La(T,A),x);Pa(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(i(T,C.sibling),x=u(C,A),x.return=T,T=x):(i(T,C),x=Yu(A,T.mode,x),x.return=T,T=x),d(T)):i(T,C)}return function(T,C,A,x){try{_s=0;var j=be(T,C,A,x);return rl=null,j}catch(Y){if(Y===ss||Y===Ia)throw Y;var ne=Et(29,Y,null,T.mode);return ne.lanes=x,ne.return=T,ne}finally{}}}var ul=Pd(!0),Fd=Pd(!1),Lt=z(null),Zt=null;function zn(e){var t=e.alternate;B(Ge,Ge.current&1),B(Lt,e),Zt===null&&(t===null||il.current!==null||t.memoizedState!==null)&&(Zt=e)}function Wd(e){if(e.tag===22){if(B(Ge,Ge.current),B(Lt,e),Zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zt=e)}}else Ln()}function Ln(){B(Ge,Ge.current),B(Lt,Lt.current)}function hn(e){q(Lt),Zt===e&&(Zt=null),q(Ge)}var Ge=z(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||hc(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Co(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var To={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Nt(),u=xn(a);u.payload=t,i!=null&&(u.callback=i),t=Mn(e,u,a),t!==null&&(Rt(t,e,a),rs(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Nt(),u=xn(a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Mn(e,u,a),t!==null&&(Rt(t,e,a),rs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Nt(),a=xn(i);a.tag=2,t!=null&&(a.callback=t),t=Mn(e,a,i),t!==null&&(Rt(t,e,i),rs(t,e,i))}};function Jd(e,t,i,a,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!Wl(i,a)||!Wl(u,c):!0}function $d(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function yi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var Wa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function e_(e){Wa(e)}function t_(e){console.error(e)}function n_(e){Wa(e)}function Ja(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function i_(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Ao(e,t,i){return i=xn(i),i.tag=3,i.payload={element:null},i.callback=function(){Ja(e,t)},i}function l_(e){return e=xn(e),e.tag=3,e}function s_(e,t,i,a){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=a.value;e.payload=function(){return u(c)},e.callback=function(){i_(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){i_(t,i,a),typeof u!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function Kv(e,t,i,a,u){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&ns(t,i,u,!0),i=Lt.current,i!==null){switch(i.tag){case 13:return Zt===null?Po():i.alternate===null&&ze===0&&(ze=3),i.flags&=-257,i.flags|=65536,i.lanes=u,a===$u?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Wo(e,a,u)),!1;case 22:return i.flags|=65536,a===$u?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Wo(e,a,u)),!1}throw Error(r(435,i.tag))}return Wo(e,a,u),Po(),!1}if(fe)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Xu&&(e=Error(r(422),{cause:a}),ts(xt(e,i)))):(a!==Xu&&(t=Error(r(423),{cause:a}),ts(xt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=xt(a,i),u=Ao(e.stateNode,a,u),no(e,u),ze!==4&&(ze=2)),!1;var c=Error(r(520),{cause:a});if(c=xt(c,i),Es===null?Es=[c]:Es.push(c),ze!==4&&(ze=2),t===null)return!0;a=xt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Ao(i.stateNode,a,e),no(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(jn===null||!jn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=l_(u),s_(u,e,i,a),no(i,u),!1}i=i.return}while(i!==null);return!1}var a_=Error(r(461)),Qe=!1;function $e(e,t,i,a){t.child=e===null?Fd(t,null,i,a):ul(t,e.child,i,a)}function r_(e,t,i,a,u){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var g in a)g!=="ref"&&(d[g]=a[g])}else d=a;return mi(t),a=ro(e,t,i,d,c,u),g=uo(),e!==null&&!Qe?(oo(e,t,u),dn(e,t,u)):(fe&&g&&Vu(t),t.flags|=1,$e(e,t,a,u),t.child)}function u_(e,t,i,a,u){if(e===null){var c=i.type;return typeof c=="function"&&!ju(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,o_(e,t,c,a,u)):(e=xa(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Uo(e,u)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Wl,i(d,a)&&e.ref===t.ref)return dn(e,t,u)}return t.flags|=1,e=an(c,a),e.ref=t.ref,e.return=t,t.child=e}function o_(e,t,i,a,u){if(e!==null){var c=e.memoizedProps;if(Wl(c,a)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=a=c,Uo(e,u))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,dn(e,t,u)}return No(e,t,i,a,u)}function c_(e,t,i){var a=t.pendingProps,u=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=c!==null?c.baseLanes|i:i,e!==null){for(u=t.child=e.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return f_(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ha(t,c!==null?c.cachePool:null),c!==null?od(t,c):lo(),Wd(t);else return t.lanes=t.childLanes=536870912,f_(e,t,c!==null?c.baseLanes|i:i,i)}else c!==null?(Ha(t,c.cachePool),od(t,c),Ln(),t.memoizedState=null):(e!==null&&Ha(t,null),lo(),Ln());return $e(e,t,u,i),t.child}function f_(e,t,i,a){var u=Ju();return u=u===null?null:{parent:Ye._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Ha(t,null),lo(),Wd(t),e!==null&&ns(e,t,a,!0),null}function $a(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function No(e,t,i,a,u){return mi(t),i=ro(e,t,i,a,void 0,u),a=uo(),e!==null&&!Qe?(oo(e,t,u),dn(e,t,u)):(fe&&a&&Vu(t),t.flags|=1,$e(e,t,i,u),t.child)}function h_(e,t,i,a,u,c){return mi(t),t.updateQueue=null,i=fd(t,a,i,u),cd(e),a=uo(),e!==null&&!Qe?(oo(e,t,c),dn(e,t,c)):(fe&&a&&Vu(t),t.flags|=1,$e(e,t,i,c),t.child)}function d_(e,t,i,a,u){if(mi(t),t.stateNode===null){var c=Ji,d=i.contextType;typeof d=="object"&&d!==null&&(c=at(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=To,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},eo(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?at(d):Ji,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Co(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&To.enqueueReplaceState(c,c.state,null),os(t,a,c,u),us(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,y=yi(i,g);c.props=y;var N=c.context,w=i.contextType;d=Ji,typeof w=="object"&&w!==null&&(d=at(w));var M=i.getDerivedStateFromProps;w=typeof M=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||N!==d)&&$d(t,c,a,d),On=!1;var R=t.memoizedState;c.state=R,os(t,a,c,u),us(),N=t.memoizedState,g||R!==N||On?(typeof M=="function"&&(Co(t,i,M,a),N=t.memoizedState),(y=On||Jd(t,i,y,a,R,N,d))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=d,a=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,to(e,t),d=t.memoizedProps,w=yi(i,d),c.props=w,M=t.pendingProps,R=c.context,N=i.contextType,y=Ji,typeof N=="object"&&N!==null&&(y=at(N)),g=i.getDerivedStateFromProps,(N=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==M||R!==y)&&$d(t,c,a,y),On=!1,R=t.memoizedState,c.state=R,os(t,a,c,u),us();var D=t.memoizedState;d!==M||R!==D||On||e!==null&&e.dependencies!==null&&za(e.dependencies)?(typeof g=="function"&&(Co(t,i,g,a),D=t.memoizedState),(w=On||Jd(t,i,w,a,R,D,y)||e!==null&&e.dependencies!==null&&za(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=D),c.props=a,c.state=D,c.context=y,a=w):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,$a(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=ul(t,e.child,null,u),t.child=ul(t,null,i,u)):$e(e,t,i,u),t.memoizedState=c.state,e=t.child):e=dn(e,t,u),e}function __(e,t,i,a){return es(),t.flags|=256,$e(e,t,i,a),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:td()}}function wo(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ht),e}function m_(e,t,i){var a=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(u?zn(t):Ln(),fe){var g=Ue,y;if(y=g){e:{for(y=g,g=Kt;y.nodeType!==8;){if(!g){g=null;break e}if(y=jt(y.nextSibling),y===null){g=null;break e}}g=y}g!==null?(t.memoizedState={dehydrated:g,treeContext:ci!==null?{id:rn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},y=Et(18,null,null,0),y.stateNode=g,y.return=t,t.child=y,ot=t,Ue=null,y=!0):y=!1}y||di(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return hc(g)?t.lanes=32:t.lanes=536870912,null;hn(t)}return g=a.children,a=a.fallback,u?(Ln(),u=t.mode,g=er({mode:"hidden",children:g},u),a=oi(a,u,i,null),g.return=t,a.return=t,g.sibling=a,t.child=g,u=t.child,u.memoizedState=Do(i),u.childLanes=wo(e,d,i),t.memoizedState=Ro,a):(zn(t),Oo(t,g))}if(y=e.memoizedState,y!==null&&(g=y.dehydrated,g!==null)){if(c)t.flags&256?(zn(t),t.flags&=-257,t=xo(e,t,i)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),u=a.fallback,g=t.mode,a=er({mode:"visible",children:a.children},g),u=oi(u,g,i,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,ul(t,e.child,null,i),a=t.child,a.memoizedState=Do(i),a.childLanes=wo(e,d,i),t.memoizedState=Ro,t=u);else if(zn(t),hc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var N=d.dgst;d=N,a=Error(r(419)),a.stack="",a.digest=d,ts({value:a,source:null,stack:null}),t=xo(e,t,i)}else if(Qe||ns(e,t,i,!1),d=(i&e.childLanes)!==0,Qe||d){if(d=Ne,d!==null&&(a=i&-i,a=(a&42)!==0?1:hu(a),a=(a&(d.suspendedLanes|i))!==0?0:a,a!==0&&a!==y.retryLane))throw y.retryLane=a,Wi(e,a),Rt(d,e,a),a_;g.data==="$?"||Po(),t=xo(e,t,i)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Ue=jt(g.nextSibling),ot=t,fe=!0,hi=null,Kt=!1,e!==null&&(Ut[zt++]=rn,Ut[zt++]=un,Ut[zt++]=ci,rn=e.id,un=e.overflow,ci=t),t=Oo(t,a.children),t.flags|=4096);return t}return u?(Ln(),u=a.fallback,g=t.mode,y=e.child,N=y.sibling,a=an(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&65011712,N!==null?u=an(N,u):(u=oi(u,g,i,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,g=e.child.memoizedState,g===null?g=Do(i):(y=g.cachePool,y!==null?(N=Ye._currentValue,y=y.parent!==N?{parent:N,pool:N}:y):y=td(),g={baseLanes:g.baseLanes|i,cachePool:y}),u.memoizedState=g,u.childLanes=wo(e,d,i),t.memoizedState=Ro,a):(zn(t),i=e.child,e=i.sibling,i=an(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Oo(e,t){return t=er({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function er(e,t){return e=Et(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xo(e,t,i){return ul(t,e.child,null,i),e=Oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g_(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Zu(e.return,t,i)}function Mo(e,t,i,a,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=u)}function p_(e,t,i){var a=t.pendingProps,u=a.revealOrder,c=a.tail;if($e(e,t,a.children,i),a=Ge.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g_(e,i,t);else if(e.tag===19)g_(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(B(Ge,a),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Fa(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Mo(t,!1,u,i,c);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Fa(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Mo(t,!0,i,null,c);break;case"together":Mo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ns(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=an(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=an(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Uo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&za(e)))}function Zv(e,t,i){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),wn(t,Ye,e.memoizedState.cache),es();break;case 27:case 5:ru(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(zn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?m_(e,t,i):(zn(t),e=dn(e,t,i),e!==null?e.sibling:null);zn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(ns(e,t,i,!1),a=(i&t.childLanes)!==0),u){if(a)return p_(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),B(Ge,Ge.current),a)break;return null;case 22:case 23:return t.lanes=0,c_(e,t,i);case 24:wn(t,Ye,e.memoizedState.cache)}return dn(e,t,i)}function y_(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!Uo(e,i)&&(t.flags&128)===0)return Qe=!1,Zv(e,t,i);Qe=(e.flags&131072)!==0}else Qe=!1,fe&&(t.flags&1048576)!==0&&Zh(t,Ua,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,u=a._init;if(a=u(a._payload),t.type=a,typeof a=="function")ju(a)?(e=yi(a,e),t.tag=1,t=d_(null,t,a,e,i)):(t.tag=0,t=No(null,t,a,e,i));else{if(a!=null){if(u=a.$$typeof,u===We){t.tag=11,t=r_(null,t,a,e,i);break e}else if(u===$){t.tag=14,t=u_(null,t,a,e,i);break e}}throw t=ii(a)||a,Error(r(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,u=yi(a,t.pendingProps),d_(e,t,a,u,i);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;u=c.element,to(e,t),os(t,a,null,i);var d=t.memoizedState;if(a=d.cache,wn(t,Ye,a),a!==c.cache&&Pu(t,[Ye],i,!0),us(),a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=__(e,t,a,i);break e}else if(a!==u){u=xt(Error(r(424)),t),ts(u),t=__(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=jt(e.firstChild),ot=t,fe=!0,hi=null,Kt=!0,i=Fd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(es(),a===u){t=dn(e,t,i);break e}$e(e,t,a,i)}t=t.child}return t;case 26:return $a(e,t),e===null?(i=Em(t.type,null,t.pendingProps,null))?t.memoizedState=i:fe||(i=t.type,e=t.pendingProps,a=_r(W.current).createElement(i),a[st]=t,a[ct]=e,tt(a,i,e),Ve(a),t.stateNode=a):t.memoizedState=Em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ru(t),e===null&&fe&&(a=t.stateNode=vm(t.type,t.pendingProps,W.current),ot=t,Kt=!0,u=Ue,Vn(t.type)?(dc=u,Ue=jt(a.firstChild)):Ue=u),$e(e,t,t.pendingProps.children,i),$a(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((u=a=Ue)&&(a=E0(a,t.type,t.pendingProps,Kt),a!==null?(t.stateNode=a,ot=t,Ue=jt(a.firstChild),Kt=!1,u=!0):u=!1),u||di(t)),ru(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,oc(u,c)?a=null:d!==null&&oc(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=ro(e,t,qv,null,null,i),xs._currentValue=u),$a(e,t),$e(e,t,a,i),t.child;case 6:return e===null&&fe&&((e=i=Ue)&&(i=C0(i,t.pendingProps,Kt),i!==null?(t.stateNode=i,ot=t,Ue=null,e=!0):e=!1),e||di(t)),null;case 13:return m_(e,t,i);case 4:return we(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ul(t,null,a,i):$e(e,t,a,i),t.child;case 11:return r_(e,t,t.type,t.pendingProps,i);case 7:return $e(e,t,t.pendingProps,i),t.child;case 8:return $e(e,t,t.pendingProps.children,i),t.child;case 12:return $e(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,wn(t,t.type,a.value),$e(e,t,a.children,i),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,mi(t),u=at(u),a=a(u),t.flags|=1,$e(e,t,a,i),t.child;case 14:return u_(e,t,t.type,t.pendingProps,i);case 15:return o_(e,t,t.type,t.pendingProps,i);case 19:return p_(e,t,i);case 31:return a=t.pendingProps,i=t.mode,a={mode:a.mode,children:a.children},e===null?(i=er(a,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=an(e.child,a),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return c_(e,t,i);case 24:return mi(t),a=at(Ye),e===null?(u=Ju(),u===null&&(u=Ne,c=Fu(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:a,cache:u},eo(t),wn(t,Ye,u)):((e.lanes&i)!==0&&(to(e,t),os(t,null,null,i),us()),u=e.memoizedState,c=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),wn(t,Ye,a)):(a=c.cache,wn(t,Ye,a),a!==u.cache&&Pu(t,[Ye],i,!0))),$e(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function _n(e){e.flags|=4}function v_(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rm(t)){if(t=Lt.current,t!==null&&((ue&4194048)===ue?Zt!==null:(ue&62914560)!==ue&&(ue&536870912)===0||t!==Zt))throw as=$u,nd;e.flags|=8192}}function tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wf():536870912,e.lanes|=t,hl|=t)}function gs(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function Pv(e,t,i){var a=t.pendingProps;switch(Qu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return xe(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),cn(Ye),An(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($l(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wh())),xe(t),null;case 26:return i=t.memoizedState,e===null?(_n(t),i!==null?(xe(t),v_(t,i)):(xe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(_n(t),xe(t),v_(t,i)):(xe(t),t.flags&=-16777217):(e.memoizedProps!==a&&_n(t),xe(t),t.flags&=-16777217),null;case 27:ha(t),i=W.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&_n(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return xe(t),null}e=V.current,$l(t)?Ph(t):(e=vm(u,a,i),t.stateNode=e,_n(t))}return xe(t),null;case 5:if(ha(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&_n(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return xe(t),null}if(e=V.current,$l(t))Ph(t);else{switch(u=_r(W.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(i,{is:a.is}):u.createElement(i)}}e[st]=t,e[ct]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(tt(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&_n(t)}}return xe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&_n(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=W.current,$l(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,u=ot,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[st]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||hm(e.nodeValue,i)),e||di(t)}else e=_r(e).createTextNode(a),e[st]=t,t.stateNode=e}return xe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=$l(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[st]=t}else es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xe(t),u=!1}else u=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(hn(t),t):(hn(t),null)}if(hn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==u&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),tr(t,t.updateQueue),xe(t),null;case 4:return An(),e===null&&lc(t.stateNode.containerInfo),xe(t),null;case 10:return cn(t.type),xe(t),null;case 19:if(q(Ge),u=t.memoizedState,u===null)return xe(t),null;if(a=(t.flags&128)!==0,c=u.rendering,c===null)if(a)gs(u,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Fa(e),c!==null){for(t.flags|=128,gs(u,!1),e=c.updateQueue,t.updateQueue=e,tr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Kh(i,e),i=i.sibling;return B(Ge,Ge.current&1|2),t.child}e=e.sibling}u.tail!==null&&Xt()>lr&&(t.flags|=128,a=!0,gs(u,!1),t.lanes=4194304)}else{if(!a)if(e=Fa(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,tr(t,e),gs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!fe)return xe(t),null}else 2*Xt()-u.renderingStartTime>lr&&i!==536870912&&(t.flags|=128,a=!0,gs(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(e=u.last,e!==null?e.sibling=c:t.child=c,u.last=c)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Xt(),t.sibling=null,e=Ge.current,B(Ge,a?e&1|2:e&1),t):(xe(t),null);case 22:case 23:return hn(t),so(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),i=t.updateQueue,i!==null&&tr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&q(gi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),cn(Ye),xe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Fv(e,t){switch(Qu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(Ye),An(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ha(t),null;case 13:if(hn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ge),null;case 4:return An(),null;case 10:return cn(t.type),null;case 22:case 23:return hn(t),so(),e!==null&&q(gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(Ye),null;case 25:return null;default:return null}}function b_(e,t){switch(Qu(t),t.tag){case 3:cn(Ye),An();break;case 26:case 27:case 5:ha(t);break;case 4:An();break;case 13:hn(t);break;case 19:q(Ge);break;case 10:cn(t.type);break;case 22:case 23:hn(t),so(),e!==null&&q(gi);break;case 24:cn(Ye)}}function ps(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var u=a.next;i=u;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==u)}}catch(g){Ce(t,t.return,g)}}function Hn(e,t,i){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var c=u.next;a=c;do{if((a.tag&e)===e){var d=a.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,u=t;var y=i,N=g;try{N()}catch(w){Ce(u,y,w)}}}a=a.next}while(a!==c)}}catch(w){Ce(t,t.return,w)}}function S_(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{ud(t,i)}catch(a){Ce(e,e.return,a)}}}function E_(e,t,i){i.props=yi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ce(e,t,a)}}function ys(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(u){Ce(e,t,u)}}function Pt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(u){Ce(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ce(e,t,u)}else i.current=null}function C_(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(u){Ce(e,e.return,u)}}function zo(e,t,i){try{var a=e.stateNode;p0(a,e.type,i,t),a[ct]=t}catch(u){Ce(e,e.return,u)}}function T_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function Lo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=dr));else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Ho(e,t,i),e=e.sibling;e!==null;)Ho(e,t,i),e=e.sibling}function nr(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Vn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(nr(e,t,i),e=e.sibling;e!==null;)nr(e,t,i),e=e.sibling}function A_(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);tt(t,a,i),t[st]=e,t[ct]=i}catch(c){Ce(e,e.return,c)}}var mn=!1,He=!1,Io=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Wv(e,t){if(e=e.containerInfo,rc=br,e=Ih(e),zu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,y=-1,N=0,w=0,M=e,R=null;t:for(;;){for(var D;M!==i||u!==0&&M.nodeType!==3||(g=d+u),M!==c||a!==0&&M.nodeType!==3||(y=d+a),M.nodeType===3&&(d+=M.nodeValue.length),(D=M.firstChild)!==null;)R=M,M=D;for(;;){if(M===e)break t;if(R===i&&++N===u&&(g=d),R===c&&++w===a&&(y=d),(D=M.nextSibling)!==null)break;M=R,R=M.parentNode}M=D}i=g===-1||y===-1?null:{start:g,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(uc={focusedElem:e,selectionRange:i},br=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){switch(t=Xe,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var Z=yi(i.type,u,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(Z,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(Q){Ce(i,i.return,Q)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)fc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}}function R_(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:In(e,i),a&4&&ps(5,i);break;case 1:if(In(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ce(i,i.return,d)}else{var u=yi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ce(i,i.return,d)}}a&64&&S_(i),a&512&&ys(i,i.return);break;case 3:if(In(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{ud(e,t)}catch(d){Ce(i,i.return,d)}}break;case 27:t===null&&a&4&&A_(i);case 26:case 5:In(e,i),t===null&&a&4&&C_(i),a&512&&ys(i,i.return);break;case 12:In(e,i);break;case 13:In(e,i),a&4&&O_(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=a0.bind(null,i),T0(e,i))));break;case 22:if(a=i.memoizedState!==null||mn,!a){t=t!==null&&t.memoizedState!==null||He,u=mn;var c=He;mn=a,(He=t)&&!c?Bn(e,i,(i.subtreeFlags&8772)!==0):In(e,i),mn=u,He=c}break;case 30:break;default:In(e,i)}}function D_(e){var t=e.alternate;t!==null&&(e.alternate=null,D_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,dt=!1;function gn(e,t,i){for(i=i.child;i!==null;)w_(e,t,i),i=i.sibling}function w_(e,t,i){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(kl,i)}catch{}switch(i.tag){case 26:He||Pt(i,t),gn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:He||Pt(i,t);var a=Oe,u=dt;Vn(i.type)&&(Oe=i.stateNode,dt=!1),gn(e,t,i),Rs(i.stateNode),Oe=a,dt=u;break;case 5:He||Pt(i,t);case 6:if(a=Oe,u=dt,Oe=null,gn(e,t,i),Oe=a,dt=u,Oe!==null)if(dt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(i.stateNode)}catch(c){Ce(i,t,c)}else try{Oe.removeChild(i.stateNode)}catch(c){Ce(i,t,c)}break;case 18:Oe!==null&&(dt?(e=Oe,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ls(e)):pm(Oe,i.stateNode));break;case 4:a=Oe,u=dt,Oe=i.stateNode.containerInfo,dt=!0,gn(e,t,i),Oe=a,dt=u;break;case 0:case 11:case 14:case 15:He||Hn(2,i,t),He||Hn(4,i,t),gn(e,t,i);break;case 1:He||(Pt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&E_(i,t,a)),gn(e,t,i);break;case 21:gn(e,t,i);break;case 22:He=(a=He)||i.memoizedState!==null,gn(e,t,i),He=a;break;default:gn(e,t,i)}}function O_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ls(e)}catch(i){Ce(t,t.return,i)}}function Jv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new N_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new N_),t;default:throw Error(r(435,e.tag))}}function Bo(e,t){var i=Jv(e);t.forEach(function(a){var u=r0.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}function Ct(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(Vn(g.type)){Oe=g.stateNode,dt=!1;break e}break;case 5:Oe=g.stateNode,dt=!1;break e;case 3:case 4:Oe=g.stateNode.containerInfo,dt=!0;break e}g=g.return}if(Oe===null)throw Error(r(160));w_(c,d,u),Oe=null,dt=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)x_(t,e),t=t.sibling}var qt=null;function x_(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(t,e),Tt(e),a&4&&(Hn(3,e,e.return),ps(3,e),Hn(5,e,e.return));break;case 1:Ct(t,e),Tt(e),a&512&&(He||i===null||Pt(i,i.return)),a&64&&mn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var u=qt;if(Ct(t,e),Tt(e),a&512&&(He||i===null||Pt(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Yl]||c[st]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(a),u.head.insertBefore(c,u.querySelector("head > title"))),tt(c,a,i),c[st]=e,Ve(c),a=c;break e;case"link":var d=Am("link","href",u).get(a+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=u.createElement(a),tt(c,a,i),u.head.appendChild(c);break;case"meta":if(d=Am("meta","content",u).get(a+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=u.createElement(a),tt(c,a,i),u.head.appendChild(c);break;default:throw Error(r(468,a))}c[st]=e,Ve(c),a=c}e.stateNode=a}else Nm(u,e.type,e.stateNode);else e.stateNode=Tm(u,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?Nm(u,e.type,e.stateNode):Tm(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&zo(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ct(t,e),Tt(e),a&512&&(He||i===null||Pt(i,i.return)),i!==null&&a&4&&zo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ct(t,e),Tt(e),a&512&&(He||i===null||Pt(i,i.return)),e.flags&32){u=e.stateNode;try{Vi(u,"")}catch(D){Ce(e,e.return,D)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,zo(e,u,i!==null?i.memoizedProps:u)),a&1024&&(Io=!0);break;case 6:if(Ct(t,e),Tt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(D){Ce(e,e.return,D)}}break;case 3:if(pr=null,u=qt,qt=mr(t.containerInfo),Ct(t,e),qt=u,Tt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(D){Ce(e,e.return,D)}Io&&(Io=!1,M_(e));break;case 4:a=qt,qt=mr(e.stateNode.containerInfo),Ct(t,e),Tt(e),qt=a;break;case 12:Ct(t,e),Tt(e);break;case 13:Ct(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vo=Xt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 22:u=e.memoizedState!==null;var y=i!==null&&i.memoizedState!==null,N=mn,w=He;if(mn=N||u,He=w||y,Ct(t,e),He=w,mn=N,Tt(e),a&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||y||mn||He||vi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){y=i=t;try{if(c=y.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=y.stateNode;var M=y.memoizedProps.style,R=M!=null&&M.hasOwnProperty("display")?M.display:null;g.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Ce(y,y.return,D)}}}else if(t.tag===6){if(i===null){y=t;try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(D){Ce(y,y.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Bo(e,i))));break;case 19:Ct(t,e),Tt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Bo(e,a)));break;case 30:break;case 21:break;default:Ct(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(T_(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,c=Lo(e);nr(e,c,u);break;case 5:var d=i.stateNode;i.flags&32&&(Vi(d,""),i.flags&=-33);var g=Lo(e);nr(e,g,d);break;case 3:case 4:var y=i.stateNode.containerInfo,N=Lo(e);Ho(e,N,y);break;default:throw Error(r(161))}}catch(w){Ce(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function M_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;M_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function In(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)R_(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),vi(t);break;case 1:Pt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&E_(t,t.return,i),vi(t);break;case 27:Rs(t.stateNode);case 26:case 5:Pt(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function Bn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Bn(u,c,i),ps(4,c);break;case 1:if(Bn(u,c,i),a=c,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(N){Ce(a,a.return,N)}if(a=c,u=a.updateQueue,u!==null){var g=a.stateNode;try{var y=u.shared.hiddenCallbacks;if(y!==null)for(u.shared.hiddenCallbacks=null,u=0;u<y.length;u++)rd(y[u],g)}catch(N){Ce(a,a.return,N)}}i&&d&64&&S_(c),ys(c,c.return);break;case 27:A_(c);case 26:case 5:Bn(u,c,i),i&&a===null&&d&4&&C_(c),ys(c,c.return);break;case 12:Bn(u,c,i);break;case 13:Bn(u,c,i),i&&d&4&&O_(u,c);break;case 22:c.memoizedState===null&&Bn(u,c,i),ys(c,c.return);break;case 30:break;default:Bn(u,c,i)}t=t.sibling}}function ko(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&is(i))}function qo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e))}function Ft(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)U_(e,t,i,a),t=t.sibling}function U_(e,t,i,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,i,a),u&2048&&ps(9,t);break;case 1:Ft(e,t,i,a);break;case 3:Ft(e,t,i,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&is(e)));break;case 12:if(u&2048){Ft(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){Ce(t,t.return,y)}}else Ft(e,t,i,a);break;case 13:Ft(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?Ft(e,t,i,a):vs(e,t):c._visibility&2?Ft(e,t,i,a):(c._visibility|=2,ol(e,t,i,a,(t.subtreeFlags&10256)!==0)),u&2048&&ko(d,t);break;case 24:Ft(e,t,i,a),u&2048&&qo(t.alternate,t);break;default:Ft(e,t,i,a)}}function ol(e,t,i,a,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,g=i,y=a,N=d.flags;switch(d.tag){case 0:case 11:case 15:ol(c,d,g,y,u),ps(8,d);break;case 23:break;case 22:var w=d.stateNode;d.memoizedState!==null?w._visibility&2?ol(c,d,g,y,u):vs(c,d):(w._visibility|=2,ol(c,d,g,y,u)),u&&N&2048&&ko(d.alternate,d);break;case 24:ol(c,d,g,y,u),u&&N&2048&&qo(d.alternate,d);break;default:ol(c,d,g,y,u)}t=t.sibling}}function vs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,u=a.flags;switch(a.tag){case 22:vs(i,a),u&2048&&ko(a.alternate,a);break;case 24:vs(i,a),u&2048&&qo(a.alternate,a);break;default:vs(i,a)}t=t.sibling}}var bs=8192;function cl(e){if(e.subtreeFlags&bs)for(e=e.child;e!==null;)z_(e),e=e.sibling}function z_(e){switch(e.tag){case 26:cl(e),e.flags&bs&&e.memoizedState!==null&&I0(qt,e.memoizedState,e.memoizedProps);break;case 5:cl(e);break;case 3:case 4:var t=qt;qt=mr(e.stateNode.containerInfo),cl(e),qt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bs,bs=16777216,cl(e),bs=t):cl(e));break;default:cl(e)}}function L_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Xe=a,I_(a,e)}L_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)H_(e),e=e.sibling}function H_(e){switch(e.tag){case 0:case 11:case 15:Ss(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:Ss(e);break;case 12:Ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ir(e)):Ss(e);break;default:Ss(e)}}function ir(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Xe=a,I_(a,e)}L_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),ir(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ir(t));break;default:ir(t)}e=e.sibling}}function I_(e,t){for(;Xe!==null;){var i=Xe;switch(i.tag){case 0:case 11:case 15:Hn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:is(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Xe=a;else e:for(i=e;Xe!==null;){a=Xe;var u=a.sibling,c=a.return;if(D_(a),a===i){Xe=null;break e}if(u!==null){u.return=c,Xe=u;break e}Xe=c}}}var $v={getCacheForType:function(e){var t=at(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},e0=typeof WeakMap=="function"?WeakMap:Map,me=0,Ne=null,se=null,ue=0,ge=0,At=null,kn=!1,fl=!1,jo=!1,pn=0,ze=0,qn=0,bi=0,Yo=0,Ht=0,hl=0,Es=null,_t=null,Go=!1,Vo=0,lr=1/0,sr=null,jn=null,et=0,Yn=null,dl=null,_l=0,Qo=0,Xo=null,B_=null,Cs=0,Ko=null;function Nt(){if((me&2)!==0&&ue!==0)return ue&-ue;if(O.T!==null){var e=tl;return e!==0?e:ec()}return eh()}function k_(){Ht===0&&(Ht=(ue&536870912)===0||fe?Ff():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),Ht}function Rt(e,t,i){(e===Ne&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(ml(e,0),Gn(e,ue,Ht,!1)),jl(e,i),((me&2)===0||e!==Ne)&&(e===Ne&&((me&2)===0&&(bi|=i),ze===4&&Gn(e,ue,Ht,!1)),Wt(e))}function q_(e,t,i){if((me&6)!==0)throw Error(r(327));var a=!i&&(t&124)===0&&(t&e.expiredLanes)===0||ql(e,t),u=a?i0(e,t):Fo(e,t,!0),c=a;do{if(u===0){fl&&!a&&Gn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!t0(i)){u=Fo(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;u=Es;var y=g.current.memoizedState.isDehydrated;if(y&&(ml(g,d).flags|=256),d=Fo(g,d,!1),d!==2){if(jo&&!y){g.errorRecoveryDisabledLanes|=c,bi|=c,u=4;break e}c=_t,_t=u,c!==null&&(_t===null?_t=c:_t.push.apply(_t,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){ml(e,0),Gn(e,t,0,!0);break}e:{switch(a=e,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Gn(a,t,Ht,!kn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Vo+300-Xt(),10<u)){if(Gn(a,t,Ht,!kn),ga(a,0,!0)!==0)break e;a.timeoutHandle=mm(j_.bind(null,a,i,_t,sr,Go,t,Ht,bi,hl,kn,c,2,-0,0),u);break e}j_(a,i,_t,sr,Go,t,Ht,bi,hl,kn,c,0,-0,0)}}break}while(!0);Wt(e)}function j_(e,t,i,a,u,c,d,g,y,N,w,M,R,D){if(e.timeoutHandle=-1,M=t.subtreeFlags,(M&8192||(M&16785408)===16785408)&&(Os={stylesheets:null,count:0,unsuspend:H0},z_(t),M=B0(),M!==null)){e.cancelPendingCommit=M(Z_.bind(null,e,t,c,i,a,u,d,g,y,w,1,R,D)),Gn(e,c,d,!N);return}Z_(e,t,c,i,a,u,d,g,y)}function t0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var u=i[a],c=u.getSnapshot;u=u.value;try{if(!St(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,i,a){t&=~Yo,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var c=31-bt(u),d=1<<c;a[c]=-1,u&=~d}i!==0&&Jf(e,i,t)}function ar(){return(me&6)===0?(Ts(0),!1):!0}function Zo(){if(se!==null){if(ge===0)var e=se.return;else e=se,on=_i=null,co(e),rl=null,_s=0,e=se;for(;e!==null;)b_(e.alternate,e),e=e.return;se=null}}function ml(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,v0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Zo(),Ne=e,se=i=an(e.current,null),ue=t,ge=0,At=null,kn=!1,fl=ql(e,t),jo=!1,hl=Ht=Yo=bi=qn=ze=0,_t=Es=null,Go=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-bt(a),c=1<<u;t|=e[u],a&=~c}return pn=t,Da(),i}function Y_(e,t){ee=null,O.H=Ka,t===ss||t===Ia?(t=sd(),ge=3):t===nd?(t=sd(),ge=4):ge=t===a_?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,se===null&&(ze=1,Ja(e,xt(t,e.current)))}function G_(){var e=O.H;return O.H=Ka,e===null?Ka:e}function V_(){var e=O.A;return O.A=$v,e}function Po(){ze=4,kn||(ue&4194048)!==ue&&Lt.current!==null||(fl=!0),(qn&134217727)===0&&(bi&134217727)===0||Ne===null||Gn(Ne,ue,Ht,!1)}function Fo(e,t,i){var a=me;me|=2;var u=G_(),c=V_();(Ne!==e||ue!==t)&&(sr=null,ml(e,t)),t=!1;var d=ze;e:do try{if(ge!==0&&se!==null){var g=se,y=At;switch(ge){case 8:Zo(),d=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var N=ge;if(ge=0,At=null,gl(e,g,y,N),i&&fl){d=0;break e}break;default:N=ge,ge=0,At=null,gl(e,g,y,N)}}n0(),d=ze;break}catch(w){Y_(e,w)}while(!0);return t&&e.shellSuspendCounter++,on=_i=null,me=a,O.H=u,O.A=c,se===null&&(Ne=null,ue=0,Da()),d}function n0(){for(;se!==null;)Q_(se)}function i0(e,t){var i=me;me|=2;var a=G_(),u=V_();Ne!==e||ue!==t?(sr=null,lr=Xt()+500,ml(e,t)):fl=ql(e,t);e:do try{if(ge!==0&&se!==null){t=se;var c=At;t:switch(ge){case 1:ge=0,At=null,gl(e,t,c,1);break;case 2:case 9:if(id(c)){ge=0,At=null,X_(t);break}t=function(){ge!==2&&ge!==9||Ne!==e||(ge=7),Wt(e)},c.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:id(c)?(ge=0,At=null,X_(t)):(ge=0,At=null,gl(e,t,c,7));break;case 5:var d=null;switch(se.tag){case 26:d=se.memoizedState;case 5:case 27:var g=se;if(!d||Rm(d)){ge=0,At=null;var y=g.sibling;if(y!==null)se=y;else{var N=g.return;N!==null?(se=N,rr(N)):se=null}break t}}ge=0,At=null,gl(e,t,c,5);break;case 6:ge=0,At=null,gl(e,t,c,6);break;case 8:Zo(),ze=6;break e;default:throw Error(r(462))}}l0();break}catch(w){Y_(e,w)}while(!0);return on=_i=null,O.H=a,O.A=u,me=i,se!==null?0:(Ne=null,ue=0,Da(),ze)}function l0(){for(;se!==null&&!Ny();)Q_(se)}function Q_(e){var t=y_(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?rr(e):se=t}function X_(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=h_(i,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=h_(i,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:co(t);default:b_(i,t),t=se=Kh(t,pn),t=y_(i,t,pn)}e.memoizedProps=e.pendingProps,t===null?rr(e):se=t}function gl(e,t,i,a){on=_i=null,co(t),rl=null,_s=0;var u=t.return;try{if(Kv(e,u,t,i,ue)){ze=1,Ja(e,xt(i,e.current)),se=null;return}}catch(c){if(u!==null)throw se=u,c;ze=1,Ja(e,xt(i,e.current)),se=null;return}t.flags&32768?(fe||a===1?e=!0:fl||(ue&536870912)!==0?e=!1:(kn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),K_(t,e)):rr(t)}function rr(e){var t=e;do{if((t.flags&32768)!==0){K_(t,kn);return}e=t.return;var i=Pv(t.alternate,t,pn);if(i!==null){se=i;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ze===0&&(ze=5)}function K_(e,t){do{var i=Fv(e.alternate,e);if(i!==null){i.flags&=32767,se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=i}while(e!==null);ze=6,se=null}function Z_(e,t,i,a,u,c,d,g,y){e.cancelPendingCommit=null;do ur();while(et!==0);if((me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=ku,Hy(e,i,c,d,g,y),e===Ne&&(se=Ne=null,ue=0),dl=t,Yn=e,_l=i,Qo=c,Xo=u,B_=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u0(da,function(){return $_(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null,u=k.p,k.p=2,d=me,me|=4;try{Wv(e,t,i)}finally{me=d,k.p=u,O.T=a}}et=1,P_(),F_(),W_()}}function P_(){if(et===1){et=0;var e=Yn,t=dl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var a=k.p;k.p=2;var u=me;me|=4;try{x_(t,e);var c=uc,d=Ih(e.containerInfo),g=c.focusedElem,y=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&Hh(g.ownerDocument.documentElement,g)){if(y!==null&&zu(g)){var N=y.start,w=y.end;if(w===void 0&&(w=N),"selectionStart"in g)g.selectionStart=N,g.selectionEnd=Math.min(w,g.value.length);else{var M=g.ownerDocument||document,R=M&&M.defaultView||window;if(R.getSelection){var D=R.getSelection(),Z=g.textContent.length,Q=Math.min(y.start,Z),be=y.end===void 0?Q:Math.min(y.end,Z);!D.extend&&Q>be&&(d=be,be=Q,Q=d);var T=Lh(g,Q),C=Lh(g,be);if(T&&C&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var A=M.createRange();A.setStart(T.node,T.offset),D.removeAllRanges(),Q>be?(D.addRange(A),D.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),D.addRange(A))}}}}for(M=[],D=g;D=D.parentNode;)D.nodeType===1&&M.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<M.length;g++){var x=M[g];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}br=!!rc,uc=rc=null}finally{me=u,k.p=a,O.T=i}}e.current=t,et=2}}function F_(){if(et===2){et=0;var e=Yn,t=dl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var a=k.p;k.p=2;var u=me;me|=4;try{R_(e,t.alternate,t)}finally{me=u,k.p=a,O.T=i}}et=3}}function W_(){if(et===4||et===3){et=0,Ry();var e=Yn,t=dl,i=_l,a=B_;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,dl=Yn=null,J_(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(jn=null),du(i),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(kl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=O.T,u=k.p,k.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<a.length;d++){var g=a[d];c(g.value,{componentStack:g.stack})}}finally{O.T=t,k.p=u}}(_l&3)!==0&&ur(),Wt(e),u=e.pendingLanes,(i&4194090)!==0&&(u&42)!==0?e===Ko?Cs++:(Cs=0,Ko=e):Cs=0,Ts(0)}}function J_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,is(t)))}function ur(e){return P_(),F_(),W_(),$_()}function $_(){if(et!==5)return!1;var e=Yn,t=Qo;Qo=0;var i=du(_l),a=O.T,u=k.p;try{k.p=32>i?32:i,O.T=null,i=Xo,Xo=null;var c=Yn,d=_l;if(et=0,dl=Yn=null,_l=0,(me&6)!==0)throw Error(r(331));var g=me;if(me|=4,H_(c.current),U_(c,c.current,d,i),me=g,Ts(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(kl,c)}catch{}return!0}finally{k.p=u,O.T=a,J_(e,t)}}function em(e,t,i){t=xt(i,t),t=Ao(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(jl(e,2),Wt(e))}function Ce(e,t,i){if(e.tag===3)em(e,e,i);else for(;t!==null;){if(t.tag===3){em(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){e=xt(i,e),i=l_(2),a=Mn(t,i,2),a!==null&&(s_(i,a,t,e),jl(a,2),Wt(a));break}}t=t.return}}function Wo(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new e0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(jo=!0,u.add(i),e=s0.bind(null,e,t,i),t.then(e,e))}function s0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ne===e&&(ue&i)===i&&(ze===4||ze===3&&(ue&62914560)===ue&&300>Xt()-Vo?(me&2)===0&&ml(e,0):Yo|=i,hl===ue&&(hl=0)),Wt(e)}function tm(e,t){t===0&&(t=Wf()),e=Wi(e,t),e!==null&&(jl(e,t),Wt(e))}function a0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),tm(e,i)}function r0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),tm(e,i)}function u0(e,t){return ou(e,t)}var or=null,pl=null,Jo=!1,cr=!1,$o=!1,Si=0;function Wt(e){e!==pl&&e.next===null&&(pl===null?or=pl=e:pl=pl.next=e),cr=!0,Jo||(Jo=!0,c0())}function Ts(e,t){if(!$o&&cr){$o=!0;do for(var i=!1,a=or;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var c=0;else{var d=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-bt(42|e)+1)-1,c&=u&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,sm(a,c))}else c=ue,c=ga(a,a===Ne?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||ql(a,c)||(i=!0,sm(a,c));a=a.next}while(i);$o=!1}}function o0(){nm()}function nm(){cr=Jo=!1;var e=0;Si!==0&&(y0()&&(e=Si),Si=0);for(var t=Xt(),i=null,a=or;a!==null;){var u=a.next,c=im(a,t);c===0?(a.next=null,i===null?or=u:i.next=u,u===null&&(pl=i)):(i=a,(e!==0||(c&3)!==0)&&(cr=!0)),a=u}Ts(e)}function im(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-bt(c),g=1<<d,y=u[d];y===-1?((g&i)===0||(g&a)!==0)&&(u[d]=Ly(g,t)):y<=t&&(e.expiredLanes|=g),c&=~g}if(t=Ne,i=ue,i=ga(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&cu(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ql(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&cu(a),du(i)){case 2:case 8:i=Zf;break;case 32:i=da;break;case 268435456:i=Pf;break;default:i=da}return a=lm.bind(null,e),i=ou(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&cu(a),e.callbackPriority=2,e.callbackNode=null,2}function lm(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ur()&&e.callbackNode!==i)return null;var a=ue;return a=ga(e,e===Ne?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(q_(e,a,t),im(e,Xt()),e.callbackNode!=null&&e.callbackNode===i?lm.bind(null,e):null)}function sm(e,t){if(ur())return null;q_(e,t,!0)}function c0(){b0(function(){(me&6)!==0?ou(Kf,o0):nm()})}function ec(){return Si===0&&(Si=Ff()),Si}function am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function rm(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function f0(e,t,i,a,u){if(t==="submit"&&i&&i.stateNode===u){var c=am((u[ct]||null).action),d=a.submitter;d&&(t=(t=d[ct]||null)?am(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new Aa("action","action",null,a,u);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Si!==0){var y=d?rm(u,d):new FormData(u);bo(i,{pending:!0,data:y,method:u.method,action:c},null,y)}}else typeof c=="function"&&(g.preventDefault(),y=d?rm(u,d):new FormData(u),bo(i,{pending:!0,data:y,method:u.method,action:c},c,y))},currentTarget:u}]})}}for(var tc=0;tc<Bu.length;tc++){var nc=Bu[tc],h0=nc.toLowerCase(),d0=nc[0].toUpperCase()+nc.slice(1);kt(h0,"on"+d0)}kt(qh,"onAnimationEnd"),kt(jh,"onAnimationIteration"),kt(Yh,"onAnimationStart"),kt("dblclick","onDoubleClick"),kt("focusin","onFocus"),kt("focusout","onBlur"),kt(Ov,"onTransitionRun"),kt(xv,"onTransitionStart"),kt(Mv,"onTransitionCancel"),kt(Gh,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function um(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var g=a[d],y=g.instance,N=g.currentTarget;if(g=g.listener,y!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=N;try{c(u)}catch(w){Wa(w)}u.currentTarget=null,c=y}else for(d=0;d<a.length;d++){if(g=a[d],y=g.instance,N=g.currentTarget,g=g.listener,y!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=N;try{c(u)}catch(w){Wa(w)}u.currentTarget=null,c=y}}}}function ae(e,t){var i=t[_u];i===void 0&&(i=t[_u]=new Set);var a=e+"__bubble";i.has(a)||(om(t,e,2,!1),i.add(a))}function ic(e,t,i){var a=0;t&&(a|=4),om(i,e,a,t)}var fr="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[fr]){e[fr]=!0,nh.forEach(function(i){i!=="selectionchange"&&(_0.has(i)||ic(i,!1,e),ic(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fr]||(t[fr]=!0,ic("selectionchange",!1,t))}}function om(e,t,i,a){switch(Um(t)){case 2:var u=j0;break;case 8:u=Y0;break;default:u=yc}i=u.bind(null,t,i,e),u=void 0,!Au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function sc(e,t,i,a,u){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===u)break;if(d===4)for(d=a.return;d!==null;){var y=d.tag;if((y===3||y===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;g!==null;){if(d=Bi(g),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){a=c=d;continue e}g=g.parentNode}}a=a.return}gh(function(){var N=c,w=Cu(i),M=[];e:{var R=Vh.get(e);if(R!==void 0){var D=Aa,Z=e;switch(e){case"keypress":if(Ca(i)===0)break e;case"keydown":case"keyup":D=uv;break;case"focusin":Z="focus",D=wu;break;case"focusout":Z="blur",D=wu;break;case"beforeblur":case"afterblur":D=wu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=fv;break;case qh:case jh:case Yh:D=$y;break;case Gh:D=dv;break;case"scroll":case"scrollend":D=Zy;break;case"wheel":D=mv;break;case"copy":case"cut":case"paste":D=tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Sh;break;case"toggle":case"beforetoggle":D=pv}var Q=(t&4)!==0,be=!Q&&(e==="scroll"||e==="scrollend"),T=Q?R!==null?R+"Capture":null:R;Q=[];for(var C=N,A;C!==null;){var x=C;if(A=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||A===null||T===null||(x=Vl(C,T),x!=null&&Q.push(Ns(C,x,A))),be)break;C=C.return}0<Q.length&&(R=new D(R,Z,null,i,w),M.push({event:R,listeners:Q}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==Eu&&(Z=i.relatedTarget||i.fromElement)&&(Bi(Z)||Z[Ii]))break e;if((D||R)&&(R=w.window===w?w:(R=w.ownerDocument)?R.defaultView||R.parentWindow:window,D?(Z=i.relatedTarget||i.toElement,D=N,Z=Z?Bi(Z):null,Z!==null&&(be=f(Z),Q=Z.tag,Z!==be||Q!==5&&Q!==27&&Q!==6)&&(Z=null)):(D=null,Z=N),D!==Z)){if(Q=vh,x="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Sh,x="onPointerLeave",T="onPointerEnter",C="pointer"),be=D==null?R:Gl(D),A=Z==null?R:Gl(Z),R=new Q(x,C+"leave",D,i,w),R.target=be,R.relatedTarget=A,x=null,Bi(w)===N&&(Q=new Q(T,C+"enter",Z,i,w),Q.target=A,Q.relatedTarget=be,x=Q),be=x,D&&Z)t:{for(Q=D,T=Z,C=0,A=Q;A;A=yl(A))C++;for(A=0,x=T;x;x=yl(x))A++;for(;0<C-A;)Q=yl(Q),C--;for(;0<A-C;)T=yl(T),A--;for(;C--;){if(Q===T||T!==null&&Q===T.alternate)break t;Q=yl(Q),T=yl(T)}Q=null}else Q=null;D!==null&&cm(M,R,D,Q,!1),Z!==null&&be!==null&&cm(M,be,Z,Q,!0)}}e:{if(R=N?Gl(N):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var j=wh;else if(Rh(R))if(Oh)j=Rv;else{j=Av;var ne=Tv}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?N&&Su(N.elementType)&&(j=wh):j=Nv;if(j&&(j=j(e,N))){Dh(M,j,i,w);break e}ne&&ne(e,R,N),e==="focusout"&&N&&R.type==="number"&&N.memoizedProps.value!=null&&bu(R,"number",R.value)}switch(ne=N?Gl(N):window,e){case"focusin":(Rh(ne)||ne.contentEditable==="true")&&(Zi=ne,Lu=N,Jl=null);break;case"focusout":Jl=Lu=Zi=null;break;case"mousedown":Hu=!0;break;case"contextmenu":case"mouseup":case"dragend":Hu=!1,Bh(M,i,w);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Bh(M,i,w)}var Y;if(xu)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ki?Ah(e,i)&&(X="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(X="onCompositionStart");X&&(Eh&&i.locale!=="ko"&&(Ki||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ki&&(Y=ph()):(Dn=w,Nu="value"in Dn?Dn.value:Dn.textContent,Ki=!0)),ne=hr(N,X),0<ne.length&&(X=new bh(X,e,null,i,w),M.push({event:X,listeners:ne}),Y?X.data=Y:(Y=Nh(i),Y!==null&&(X.data=Y)))),(Y=vv?bv(e,i):Sv(e,i))&&(X=hr(N,"onBeforeInput"),0<X.length&&(ne=new bh("onBeforeInput","beforeinput",null,i,w),M.push({event:ne,listeners:X}),ne.data=Y)),f0(M,e,N,i,w)}um(M,t)})}function Ns(e,t,i){return{instance:e,listener:t,currentTarget:i}}function hr(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Vl(e,i),u!=null&&a.unshift(Ns(e,u,c)),u=Vl(e,t),u!=null&&a.push(Ns(e,u,c))),e.tag===3)return a;e=e.return}return[]}function yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cm(e,t,i,a,u){for(var c=t._reactName,d=[];i!==null&&i!==a;){var g=i,y=g.alternate,N=g.stateNode;if(g=g.tag,y!==null&&y===a)break;g!==5&&g!==26&&g!==27||N===null||(y=N,u?(N=Vl(i,c),N!=null&&d.unshift(Ns(i,N,y))):u||(N=Vl(i,c),N!=null&&d.push(Ns(i,N,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var m0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(m0,`
`).replace(g0,"")}function hm(e,t){return t=fm(t),fm(e)===t}function dr(){}function ve(e,t,i,a,u,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Vi(e,""+a);break;case"className":ya(e,"class",a);break;case"tabIndex":ya(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(e,i,a);break;case"style":_h(e,a,c);break;case"data":if(t!=="object"){ya(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Sa(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&ve(e,t,"name",u.name,u,null),ve(e,t,"formEncType",u.formEncType,u,null),ve(e,t,"formMethod",u.formMethod,u,null),ve(e,t,"formTarget",u.formTarget,u,null)):(ve(e,t,"encType",u.encType,u,null),ve(e,t,"method",u.method,u,null),ve(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Sa(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=dr);break;case"onScroll":a!=null&&ae("scroll",e);break;case"onScrollEnd":a!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Sa(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ae("beforetoggle",e),ae("toggle",e),pa(e,"popover",a);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":pa(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xy.get(i)||i,pa(e,i,a))}}function ac(e,t,i,a,u,c){switch(i){case"style":_h(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&Vi(e,""+a);break;case"onScroll":a!=null&&ae("scroll",e);break;case"onScrollEnd":a!=null&&ae("scrollend",e);break;case"onClick":a!=null&&(e.onclick=dr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ih.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[ct]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,u);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):pa(e,i,a)}}}function tt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var a=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ve(e,t,c,d,i,null)}}u&&ve(e,t,"srcSet",i.srcSet,i,null),a&&ve(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var g=c=d=u=null,y=null,N=null;for(a in i)if(i.hasOwnProperty(a)){var w=i[a];if(w!=null)switch(a){case"name":u=w;break;case"type":d=w;break;case"checked":y=w;break;case"defaultChecked":N=w;break;case"value":c=w;break;case"defaultValue":g=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:ve(e,t,a,w,i,null)}}ch(e,c,g,y,N,d,u,!1),va(e);return;case"select":ae("invalid",e),a=d=c=null;for(u in i)if(i.hasOwnProperty(u)&&(g=i[u],g!=null))switch(u){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":a=g;default:ve(e,t,u,g,i,null)}t=c,i=d,e.multiple=!!a,t!=null?Gi(e,!!a,t,!1):i!=null&&Gi(e,!!a,i,!0);return;case"textarea":ae("invalid",e),c=u=a=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":a=g;break;case"defaultValue":u=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:ve(e,t,d,g,i,null)}hh(e,a,u,c),va(e);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(a=i[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ve(e,t,y,a,i,null)}return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(a=0;a<As.length;a++)ae(As[a],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in i)if(i.hasOwnProperty(N)&&(a=i[N],a!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ve(e,t,N,a,i,null)}return;default:if(Su(t)){for(w in i)i.hasOwnProperty(w)&&(a=i[w],a!==void 0&&ac(e,t,w,a,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(a=i[g],a!=null&&ve(e,t,g,a,i,null))}function p0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,g=null,y=null,N=null,w=null;for(D in i){var M=i[D];if(i.hasOwnProperty(D)&&M!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=M;default:a.hasOwnProperty(D)||ve(e,t,D,null,a,M)}}for(var R in a){var D=a[R];if(M=i[R],a.hasOwnProperty(R)&&(D!=null||M!=null))switch(R){case"type":c=D;break;case"name":u=D;break;case"checked":N=D;break;case"defaultChecked":w=D;break;case"value":d=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==M&&ve(e,t,R,D,a,M)}}vu(e,d,g,y,N,w,c,u);return;case"select":D=d=g=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:a.hasOwnProperty(c)||ve(e,t,c,null,a,y)}for(u in a)if(c=a[u],y=i[u],a.hasOwnProperty(u)&&(c!=null||y!=null))switch(u){case"value":R=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==y&&ve(e,t,u,c,a,y)}t=g,i=d,a=D,R!=null?Gi(e,!!i,R,!1):!!a!=!!i&&(t!=null?Gi(e,!!i,t,!0):Gi(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(g in i)if(u=i[g],i.hasOwnProperty(g)&&u!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:ve(e,t,g,null,a,u)}for(d in a)if(u=a[d],c=i[d],a.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":R=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&ve(e,t,d,u,a,c)}fh(e,R,D);return;case"option":for(var Z in i)if(R=i[Z],i.hasOwnProperty(Z)&&R!=null&&!a.hasOwnProperty(Z))switch(Z){case"selected":e.selected=!1;break;default:ve(e,t,Z,null,a,R)}for(y in a)if(R=a[y],D=i[y],a.hasOwnProperty(y)&&R!==D&&(R!=null||D!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:ve(e,t,y,R,a,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Q in i)R=i[Q],i.hasOwnProperty(Q)&&R!=null&&!a.hasOwnProperty(Q)&&ve(e,t,Q,null,a,R);for(N in a)if(R=a[N],D=i[N],a.hasOwnProperty(N)&&R!==D&&(R!=null||D!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:ve(e,t,N,R,a,D)}return;default:if(Su(t)){for(var be in i)R=i[be],i.hasOwnProperty(be)&&R!==void 0&&!a.hasOwnProperty(be)&&ac(e,t,be,void 0,a,R);for(w in a)R=a[w],D=i[w],!a.hasOwnProperty(w)||R===D||R===void 0&&D===void 0||ac(e,t,w,R,a,D);return}}for(var T in i)R=i[T],i.hasOwnProperty(T)&&R!=null&&!a.hasOwnProperty(T)&&ve(e,t,T,null,a,R);for(M in a)R=a[M],D=i[M],!a.hasOwnProperty(M)||R===D||R==null&&D==null||ve(e,t,M,R,a,D)}var rc=null,uc=null;function _r(e){return e.nodeType===9?e:e.ownerDocument}function dm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=null;function y0(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var mm=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,b0=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(S0)}:mm;function S0(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function pm(e,t){var i=t,a=0,u=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(0<a&&8>a){i=a;var d=e.ownerDocument;if(i&1&&Rs(d.documentElement),i&2&&Rs(d.body),i&4)for(i=d.head,Rs(i),d=i.firstChild;d;){var g=d.nextSibling,y=d.nodeName;d[Yl]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}if(u===0){e.removeChild(c),Ls(t);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:a=i.charCodeAt(0)-48;else a=0;i=c}while(i);Ls(t)}function fc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":fc(i),mu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function E0(e,t,i,a){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Yl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function C0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=jt(e.nextSibling),e===null))return null;return e}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function T0(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var dc=null;function ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function vm(e,t,i){switch(t=_r(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mu(e)}var It=new Map,bm=new Set;function mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=k.d;k.d={f:A0,r:N0,D:R0,C:D0,L:w0,m:O0,X:M0,S:x0,M:U0};function A0(){var e=yn.f(),t=ar();return e||t}function N0(e){var t=ki(e);t!==null&&t.tag===5&&t.type==="form"?qd(t):yn.r(e)}var vl=typeof document>"u"?null:document;function Sm(e,t,i){var a=vl;if(a&&typeof t=="string"&&t){var u=Ot(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),bm.has(u)||(bm.add(u),e={rel:e,crossOrigin:i,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),tt(t,"link",e),Ve(t),a.head.appendChild(t)))}}function R0(e){yn.D(e),Sm("dns-prefetch",e,null)}function D0(e,t){yn.C(e,t),Sm("preconnect",e,t)}function w0(e,t,i){yn.L(e,t,i);var a=vl;if(a&&e&&t){var u='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Ot(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Ot(i.imageSizes)+'"]')):u+='[href="'+Ot(e)+'"]';var c=u;switch(t){case"style":c=bl(e);break;case"script":c=Sl(e)}It.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),It.set(c,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(Ds(c))||t==="script"&&a.querySelector(ws(c))||(t=a.createElement("link"),tt(t,"link",e),Ve(t),a.head.appendChild(t)))}}function O0(e,t){yn.m(e,t);var i=vl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Ot(a)+'"][href="'+Ot(e)+'"]',c=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Sl(e)}if(!It.has(c)&&(e=v({rel:"modulepreload",href:e},t),It.set(c,e),i.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ws(c)))return}a=i.createElement("link"),tt(a,"link",e),Ve(a),i.head.appendChild(a)}}}function x0(e,t,i){yn.S(e,t,i);var a=vl;if(a&&e){var u=qi(a).hoistableStyles,c=bl(e);t=t||"default";var d=u.get(c);if(!d){var g={loading:0,preload:null};if(d=a.querySelector(Ds(c)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=It.get(c))&&_c(e,i);var y=d=a.createElement("link");Ve(y),tt(y,"link",e),y._p=new Promise(function(N,w){y.onload=N,y.onerror=w}),y.addEventListener("load",function(){g.loading|=1}),y.addEventListener("error",function(){g.loading|=2}),g.loading|=4,gr(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:g},u.set(c,d)}}}function M0(e,t){yn.X(e,t);var i=vl;if(i&&e){var a=qi(i).hoistableScripts,u=Sl(e),c=a.get(u);c||(c=i.querySelector(ws(u)),c||(e=v({src:e,async:!0},t),(t=It.get(u))&&mc(e,t),c=i.createElement("script"),Ve(c),tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function U0(e,t){yn.M(e,t);var i=vl;if(i&&e){var a=qi(i).hoistableScripts,u=Sl(e),c=a.get(u);c||(c=i.querySelector(ws(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=It.get(u))&&mc(e,t),c=i.createElement("script"),Ve(c),tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function Em(e,t,i,a){var u=(u=W.current)?mr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=bl(i.href),i=qi(u).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=bl(i.href);var c=qi(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ds(e)))&&!c._p&&(d.instance=c,d.state.loading=5),It.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},It.set(e,i),c||z0(u,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Sl(i),i=qi(u).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function bl(e){return'href="'+Ot(e)+'"'}function Ds(e){return'link[rel="stylesheet"]['+e+"]"}function Cm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),tt(t,"link",i),Ve(t),e.head.appendChild(t))}function Sl(e){return'[src="'+Ot(e)+'"]'}function ws(e){return"script[async]"+e}function Tm(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ot(i.href)+'"]');if(a)return t.instance=a,Ve(a),a;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Ve(a),tt(a,"style",u),gr(a,i.precedence,e),t.instance=a;case"stylesheet":u=bl(i.href);var c=e.querySelector(Ds(u));if(c)return t.state.loading|=4,t.instance=c,Ve(c),c;a=Cm(i),(u=It.get(u))&&_c(a,u),c=(e.ownerDocument||e).createElement("link"),Ve(c);var d=c;return d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),tt(c,"link",a),t.state.loading|=4,gr(c,i.precedence,e),t.instance=c;case"script":return c=Sl(i.src),(u=e.querySelector(ws(c)))?(t.instance=u,Ve(u),u):(a=i,(u=It.get(c))&&(a=v({},i),mc(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ve(u),tt(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,gr(a,i.precedence,e));return t.instance}function gr(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,c=u,d=0;d<a.length;d++){var g=a[d];if(g.dataset.precedence===t)c=g;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function _c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pr=null;function Am(e,t,i){if(pr===null){var a=new Map,u=pr=new Map;u.set(i,a)}else u=pr,a=u.get(i),a||(a=new Map,u.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[Yl]||c[st]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=a.get(d);g?g.push(c):a.set(d,[c])}}return a}function Nm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function L0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Os=null;function H0(){}function I0(e,t,i){if(Os===null)throw Error(r(475));var a=Os;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=bl(i.href),c=e.querySelector(Ds(u));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=yr.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,Ve(c);return}c=e.ownerDocument||e,i=Cm(i),(u=It.get(u))&&_c(i,u),c=c.createElement("link"),Ve(c);var d=c;d._p=new Promise(function(g,y){d.onload=g,d.onerror=y}),tt(c,"link",i),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=yr.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function B0(){if(Os===null)throw Error(r(475));var e=Os;return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function yr(){if(this.count--,this.count===0){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vr=null;function gc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vr=new Map,t.forEach(k0,e),vr=null,yr.call(e))}function k0(e,t){if(!(t.state.loading&4)){var i=vr.get(e);if(i)var a=i.get(null);else{i=new Map,vr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}u=t.instance,d=u.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,u),i.set(d,u),this.count++,a=yr.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:Se,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function q0(e,t,i,a,u,c,d,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.hiddenUpdates=fu(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Dm(e,t,i,a,u,c,d,g,y,N,w,M){return e=new q0(e,t,i,d,g,y,N,M),t=1,c===!0&&(t|=24),c=Et(3,null,null,t),e.current=c,c.stateNode=e,t=Fu(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},eo(c),e}function wm(e){return e?(e=Ji,e):Ji}function Om(e,t,i,a,u,c){u=wm(u),a.context===null?a.context=u:a.pendingContext=u,a=xn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Mn(e,a,t),i!==null&&(Rt(i,e,t),rs(i,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function pc(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function Mm(e){if(e.tag===13){var t=Wi(e,67108864);t!==null&&Rt(t,e,67108864),pc(e,67108864)}}var br=!0;function j0(e,t,i,a){var u=O.T;O.T=null;var c=k.p;try{k.p=2,yc(e,t,i,a)}finally{k.p=c,O.T=u}}function Y0(e,t,i,a){var u=O.T;O.T=null;var c=k.p;try{k.p=8,yc(e,t,i,a)}finally{k.p=c,O.T=u}}function yc(e,t,i,a){if(br){var u=vc(a);if(u===null)sc(e,t,a,Sr,i),zm(e,a);else if(V0(u,e,t,i,a))a.stopPropagation();else if(zm(e,a),t&4&&-1<G0.indexOf(e)){for(;u!==null;){var c=ki(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=li(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var y=1<<31-bt(d);g.entanglements[1]|=y,d&=~y}Wt(c),(me&6)===0&&(lr=Xt()+500,Ts(0))}}break;case 13:g=Wi(c,2),g!==null&&Rt(g,c,2),ar(),pc(c,2)}if(c=vc(a),c===null&&sc(e,t,a,Sr,i),c===u)break;u=c}u!==null&&a.stopPropagation()}else sc(e,t,a,null,i)}}function vc(e){return e=Cu(e),bc(e)}var Sr=null;function bc(e){if(Sr=null,e=Bi(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sr=e,null}function Um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dy()){case Kf:return 2;case Zf:return 8;case da:case wy:return 32;case Pf:return 268435456;default:return 32}default:return 32}}var Sc=!1,Qn=null,Xn=null,Kn=null,Ms=new Map,Us=new Map,Zn=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zm(e,t){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function zs(e,t,i,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},t!==null&&(t=ki(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function V0(e,t,i,a,u){switch(t){case"focusin":return Qn=zs(Qn,e,t,i,a,u),!0;case"dragenter":return Xn=zs(Xn,e,t,i,a,u),!0;case"mouseover":return Kn=zs(Kn,e,t,i,a,u),!0;case"pointerover":var c=u.pointerId;return Ms.set(c,zs(Ms.get(c)||null,e,t,i,a,u)),!0;case"gotpointercapture":return c=u.pointerId,Us.set(c,zs(Us.get(c)||null,e,t,i,a,u)),!0}return!1}function Lm(e){var t=Bi(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Iy(e.priority,function(){if(i.tag===13){var a=Nt();a=hu(a);var u=Wi(i,a);u!==null&&Rt(u,i,a),pc(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Er(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=vc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Eu=a,i.target.dispatchEvent(a),Eu=null}else return t=ki(i),t!==null&&Mm(t),e.blockedOn=i,!1;t.shift()}return!0}function Hm(e,t,i){Er(e)&&i.delete(t)}function Q0(){Sc=!1,Qn!==null&&Er(Qn)&&(Qn=null),Xn!==null&&Er(Xn)&&(Xn=null),Kn!==null&&Er(Kn)&&(Kn=null),Ms.forEach(Hm),Us.forEach(Hm)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Q0)))}var Tr=null;function Im(e){Tr!==e&&(Tr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tr===e&&(Tr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(bc(a||i)===null)continue;break}var c=ki(i);c!==null&&(e.splice(t,3),t-=3,bo(c,{pending:!0,data:u,method:i.method,action:a},a,u))}}))}function Ls(e){function t(y){return Cr(y,e)}Qn!==null&&Cr(Qn,e),Xn!==null&&Cr(Xn,e),Kn!==null&&Cr(Kn,e),Ms.forEach(t),Us.forEach(t);for(var i=0;i<Zn.length;i++){var a=Zn[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Lm(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var u=i[a],c=i[a+1],d=u[ct]||null;if(typeof c=="function")d||Im(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[ct]||null)g=d.formAction;else if(bc(u)!==null)continue}else g=d.action;typeof g=="function"?i[a+1]=g:(i.splice(a,3),a-=3),Im(i)}}}function Ec(e){this._internalRoot=e}Ar.prototype.render=Ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Nt();Om(i,a,e,t,null,null)},Ar.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Om(e.current,2,null,e,null,null),ar(),t[Ii]=null}};function Ar(e){this._internalRoot=e}Ar.prototype.unstable_scheduleHydration=function(e){if(e){var t=eh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Zn.length&&t!==0&&t<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Lm(e)}};var Bm=n.version;if(Bm!=="19.1.1")throw Error(r(527,Bm,"19.1.1"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var X0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nr.isDisabled&&Nr.supportsFiber)try{kl=Nr.inject(X0),vt=Nr}catch{}}return Is.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,a="",u=e_,c=t_,d=n_,g=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=Dm(e,1,!1,null,null,i,a,u,c,d,g,null),e[Ii]=t.current,lc(e),new Ec(t)},Is.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var a=!1,u="",c=e_,d=t_,g=n_,y=null,N=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks),i.formState!==void 0&&(N=i.formState)),t=Dm(e,1,!0,t,i??null,a,u,c,d,g,y,N),t.context=wm(null),i=t.current,a=Nt(),a=hu(a),u=xn(a),u.callback=null,Mn(i,u,a),i=a,t.current.lanes=i,jl(t,i),Wt(t),e[Ii]=t.current,lc(e),new Ar(t)},Is.version="19.1.1",Is}var Zm;function n1(){if(Zm)return Ac.exports;Zm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ac.exports=t1(),Ac.exports}var i1=n1();let Ti;const l1=(s,n,l)=>new Promise((r,o)=>{const f=indexedDB.open(s,n);f.onerror=h=>o(h.target.error),f.onsuccess=h=>{Ti=h.target.result,r(Ti)},f.onupgradeneeded=h=>{Ti=h.target.result,l(Ti)}}),Zg=(s,n)=>new Promise((l,r)=>{const o=Ti.transaction([s],"readwrite");o.objectStore(s).put(n),o.oncomplete=()=>l(!0),o.onerror=f=>r(f.target.error)}),Pg=(s,n)=>new Promise((l,r)=>{const f=Ti.transaction([s],"readonly").objectStore(s).get(n);f.onsuccess=()=>l(f.result),f.onerror=h=>r(h.target.error)}),wc=s=>new Promise((n,l)=>{const o=Ti.transaction([s],"readonly").objectStore(s).getAll();o.onsuccess=()=>n(o.result),o.onerror=f=>l(f.target.error)});function Fg(s){return Array.from(s).map(n=>n.toString(16).padStart(2,"0")).join("")}function s1(s){let n=5381;for(let o=0;o<s.length;o++)n=n*33^s.charCodeAt(o);const l=new Uint8Array(32);let r=n>>>0;for(let o=0;o<32;o++)r^=r<<13,r^=r>>>17,r^=r<<5,l[o]=r&255;return Fg(l)}async function of(s){try{if(typeof window<"u"&&window.crypto&&window.crypto.subtle){const n=new TextEncoder,l=await window.crypto.subtle.digest("SHA-256",n.encode(s));return Fg(new Uint8Array(l))}}catch{}return s1(s)}const Wg=Ie.createContext();function a1({children:s}){const[n,l]=Ie.useState(null),[r,o]=Ie.useState(null);async function f(_,p){try{const m=await Pg("public_users",_);return m&&await of(p+m.salt)===m.hash?(l(_),o(m.role),!0):!1}catch{return!1}}function h(){l(null),o(null)}return I.jsx(Wg.Provider,{value:{user:n,role:r,login:f,logout:h},children:s})}const Jg=Ie.createContext();function r1({children:s}){const[n,l]=Ie.useState(!1),[r,o]=Ie.useState([]);Ie.useEffect(()=>{(async()=>(await l1("p2p_app",1,m=>{m.objectStoreNames.contains("public_users")||m.createObjectStore("public_users",{keyPath:"username"}),m.objectStoreNames.contains("tasks")||m.createObjectStore("tasks",{keyPath:"id"})}),l(!0)))()},[]);const f=async m=>{for(const S of m)await Zg("public_users",S);const v=await wc("public_users");o(v)},h=async()=>await wc("public_users"),_=async({username:m,password:v})=>{const S=await Pg("public_users",m);return S?await of(v+S.salt)===S.hash:!1},p=async()=>await wc("public_users");return I.jsx(Jg.Provider,{value:{dbReady:n,publicDB:r,syncPublicDB:f,getPublicUsers:h,verifyCredentials:_,exportPublicDB:p},children:s})}const u1=()=>{};var Pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(s,n){if(!s)throw Ll(n)},Ll=function(s){return new Error("Firebase Database ("+$g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},o1=function(s){const n=[];let l=0,r=0;for(;l<s.length;){const o=s[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],h=s[l++],_=s[l++],p=((o&7)<<18|(f&63)<<12|(h&63)<<6|_&63)-65536;n[r++]=String.fromCharCode(55296+(p>>10)),n[r++]=String.fromCharCode(56320+(p&1023))}else{const f=s[l++],h=s[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],h=o+1<s.length,_=h?s[o+1]:0,p=o+2<s.length,m=p?s[o+2]:0,v=f>>2,S=(f&3)<<4|_>>4;let b=(_&15)<<2|m>>6,U=m&63;p||(U=64,h||(b=64)),r.push(l[v],l[S],l[b],l[U])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(ep(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):o1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],_=o<s.length?l[s.charAt(o)]:0;++o;const m=o<s.length?l[s.charAt(o)]:64;++o;const S=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||_==null||m==null||S==null)throw new c1;const b=f<<2|_>>4;if(r.push(b),m!==64){const U=_<<4&240|m>>2;if(r.push(U),S!==64){const L=m<<6&192|S;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class c1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tp=function(s){const n=ep(s);return cf.encodeByteArray(n,!0)},xr=function(s){return tp(s).replace(/\./g,"")},jc=function(s){try{return cf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(s){return np(void 0,s)}function np(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!h1(l)||(s[l]=np(s[l],n[l]));return s}function h1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>d1().__FIREBASE_DEFAULTS__,m1=()=>{if(typeof process>"u"||typeof Pm>"u")return;const s=Pm.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},g1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&jc(s[1]);return n&&JSON.parse(n)},ip=()=>{try{return u1()||_1()||m1()||g1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},p1=s=>ip()?.emulatorHosts?.[s],y1=s=>{const n=p1(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},lp=()=>ip()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xr(JSON.stringify(l)),xr(JSON.stringify(h)),""].join(".")}const Ys={};function S1(){const s={prod:[],emulator:[]};for(const n of Object.keys(Ys))Ys[n]?s.emulator.push(n):s.prod.push(n);return s}function E1(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let Fm=!1;function C1(s,n){if(typeof window>"u"||typeof document>"u"||!ff(window.location.host)||Ys[s]===n||Ys[s]||Fm)return;Ys[s]=n;function l(b){return`__firebase__banner__${b}`}const r="__firebase__banner",f=S1().prod.length>0;function h(){const b=document.getElementById(r);b&&b.remove()}function _(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,U){b.setAttribute("width","24"),b.setAttribute("id",U),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Fm=!0,h()},b}function v(b,U){b.setAttribute("id",U),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=E1(r),U=l("text"),L=document.getElementById(U)||document.createElement("span"),G=l("learnmore"),F=document.getElementById(G)||document.createElement("a"),_e=l("preprendIcon"),Ae=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Se=b.element;_(Se),v(F,G);const We=m();p(Ae,_e),Se.append(Ae,L,F,We),document.body.appendChild(Se)}f?(L.innerText="Preview backend disconnected.",Ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T1())}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N1(){return $g.NODE_ADMIN===!0}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function D1(){return new Promise((s,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FirebaseError";class sa extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=w1,Object.setPrototypeOf(this,sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ap.prototype.create)}}class ap{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?O1(f,r):"Error",_=`${this.serviceName}: ${h} (${o}).`;return new sa(o,_,r)}}function O1(s,n){return s.replace(x1,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const x1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(s){return JSON.parse(s)}function Fe(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=function(s){let n={},l={},r={},o="";try{const f=s.split(".");n=Zs(jc(f[0])||""),l=Zs(jc(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},M1=function(s){const n=rp(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},U1=function(s){const n=rp(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function Dl(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function Yc(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Mr(s,n,l){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=n.call(l,s[o],o,s));return r}function Ur(s,n){if(s===n)return!0;const l=Object.keys(s),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=s[o],h=n[o];if(Wm(f)&&Wm(h)){if(!Ur(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function Wm(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){const n=[];for(const[l,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let S=0;S<16;S++)r[S]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let S=0;S<16;S++)r[S]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let S=16;S<80;S++){const b=r[S-3]^r[S-8]^r[S-14]^r[S-16];r[S]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],_=this.chain_[3],p=this.chain_[4],m,v;for(let S=0;S<80;S++){S<40?S<20?(m=_^f&(h^_),v=1518500249):(m=f^h^_,v=1859775393):S<60?(m=f&h|_&(f|h),v=2400959708):(m=f^h^_,v=3395469782);const b=(o<<5|o>>>27)+m+p+v+r[S]&4294967295;p=_,_=h,h=(f<<30|f>>>2)&4294967295,f=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+_&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function wl(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,H(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Fr=function(s){let n=0;for(let l=0;l<s.length;l++){const r=s.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(s){return s&&s._delegate?s._delegate:s}class Ps{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new vn;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(k1(n))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=Ei){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ei){return this.instances.has(n)}getOptions(n=Ei){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(f);r===_&&h.resolve(o)}return o}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B1(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Ei){return this.component?this.component.multipleInstances?n:Ei:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B1(s){return s===Ei?void 0:s}function k1(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new I1(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Re||(Re={}));const j1={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Y1=Re.INFO,G1={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},V1=(s,n,...l)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),o=G1[n];if(o)console[o](`[${r}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class up{constructor(n){this.name=n,this._logLevel=Y1,this._logHandler=V1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Re))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?j1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...n),this._logHandler(this,Re.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...n),this._logHandler(this,Re.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...n),this._logHandler(this,Re.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...n),this._logHandler(this,Re.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...n),this._logHandler(this,Re.ERROR,...n)}}const Q1=(s,n)=>n.some(l=>s instanceof l);let Jm,$m;function X1(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return $m||($m=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const op=new WeakMap,Gc=new WeakMap,cp=new WeakMap,Oc=new WeakMap,hf=new WeakMap;function Z1(s){const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(Fn(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&op.set(l,s)}).catch(()=>{}),hf.set(n,s),n}function P1(s){if(Gc.has(s))return;const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Gc.set(s,n)}let Vc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Gc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||cp.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Fn(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function F1(s){Vc=s(Vc)}function W1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=s.call(xc(this),n,...l);return cp.set(r,n.sort?n.sort():[n]),Fn(r)}:K1().includes(s)?function(...n){return s.apply(xc(this),n),Fn(op.get(this))}:function(...n){return Fn(s.apply(xc(this),n))}}function J1(s){return typeof s=="function"?W1(s):(s instanceof IDBTransaction&&P1(s),Q1(s,X1())?new Proxy(s,Vc):s)}function Fn(s){if(s instanceof IDBRequest)return Z1(s);if(Oc.has(s))return Oc.get(s);const n=J1(s);return n!==s&&(Oc.set(s,n),hf.set(n,s)),n}const xc=s=>hf.get(s);function $1(s,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(s,n),_=Fn(h);return r&&h.addEventListener("upgradeneeded",p=>{r(Fn(h.result),p.oldVersion,p.newVersion,Fn(h.transaction),p)}),l&&h.addEventListener("blocked",p=>l(p.oldVersion,p.newVersion,p)),_.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),_}const eb=["get","getKey","getAll","getAllKeys","count"],tb=["put","add","delete","clear"],Mc=new Map;function eg(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Mc.get(n))return Mc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=tb.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||eb.includes(l)))return;const f=async function(h,..._){const p=this.transaction(h,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(_.shift())),(await Promise.all([m[l](..._),o&&p.done]))[0]};return Mc.set(n,f),f}F1(s=>({...s,get:(n,l,r)=>eg(n,l)||s.get(n,l,r),has:(n,l)=>!!eg(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(ib(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function ib(s){return s.getComponent()?.type==="VERSION"}const Qc="@firebase/app",tg="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new up("@firebase/app"),lb="@firebase/app-compat",sb="@firebase/analytics-compat",ab="@firebase/analytics",rb="@firebase/app-check-compat",ub="@firebase/app-check",ob="@firebase/auth",cb="@firebase/auth-compat",fb="@firebase/database",hb="@firebase/data-connect",db="@firebase/database-compat",_b="@firebase/functions",mb="@firebase/functions-compat",gb="@firebase/installations",pb="@firebase/installations-compat",yb="@firebase/messaging",vb="@firebase/messaging-compat",bb="@firebase/performance",Sb="@firebase/performance-compat",Eb="@firebase/remote-config",Cb="@firebase/remote-config-compat",Tb="@firebase/storage",Ab="@firebase/storage-compat",Nb="@firebase/firestore",Rb="@firebase/ai",Db="@firebase/firestore-compat",wb="firebase",Ob="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="[DEFAULT]",xb={[Qc]:"fire-core",[lb]:"fire-core-compat",[ab]:"fire-analytics",[sb]:"fire-analytics-compat",[ub]:"fire-app-check",[rb]:"fire-app-check-compat",[ob]:"fire-auth",[cb]:"fire-auth-compat",[fb]:"fire-rtdb",[hb]:"fire-data-connect",[db]:"fire-rtdb-compat",[_b]:"fire-fn",[mb]:"fire-fn-compat",[gb]:"fire-iid",[pb]:"fire-iid-compat",[yb]:"fire-fcm",[vb]:"fire-fcm-compat",[bb]:"fire-perf",[Sb]:"fire-perf-compat",[Eb]:"fire-rc",[Cb]:"fire-rc-compat",[Tb]:"fire-gcs",[Ab]:"fire-gcs-compat",[Nb]:"fire-fst",[Db]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[wb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Map,Mb=new Map,Kc=new Map;function ng(s,n){try{s.container.addComponent(n)}catch(l){En.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Lr(s){const n=s.name;if(Kc.has(n))return En.debug(`There were multiple attempts to register component ${n}.`),!1;Kc.set(n,s);for(const l of zr.values())ng(l,s);for(const l of Mb.values())ng(l,s);return!0}function Ub(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function zb(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wn=new ap("app","Firebase",Lb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=Ob;function fp(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const r={name:Xc,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw Wn.create("bad-app-name",{appName:String(o)});if(l||(l=lp()),!l)throw Wn.create("no-options");const f=zr.get(o);if(f){if(Ur(l,f.options)&&Ur(r,f.config))return f;throw Wn.create("duplicate-app",{appName:o})}const h=new q1(o);for(const p of Kc.values())h.addComponent(p);const _=new Hb(l,r,h);return zr.set(o,_),_}function Bb(s=Xc){const n=zr.get(s);if(!n&&s===Xc&&lp())return fp();if(!n)throw Wn.create("no-app",{appName:s});return n}function Tl(s,n,l){let r=xb[s]??s;l&&(r+=`-${l}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),En.warn(h.join(" "));return}Lr(new Ps(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebase-heartbeat-database",qb=1,Fs="firebase-heartbeat-store";let Uc=null;function hp(){return Uc||(Uc=$1(kb,qb,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Fs)}catch(l){console.warn(l)}}}}).catch(s=>{throw Wn.create("idb-open",{originalErrorMessage:s.message})})),Uc}async function jb(s){try{const l=(await hp()).transaction(Fs),r=await l.objectStore(Fs).get(dp(s));return await l.done,r}catch(n){if(n instanceof sa)En.warn(n.message);else{const l=Wn.create("idb-get",{originalErrorMessage:n?.message});En.warn(l.message)}}}async function ig(s,n){try{const r=(await hp()).transaction(Fs,"readwrite");await r.objectStore(Fs).put(n,dp(s)),await r.done}catch(l){if(l instanceof sa)En.warn(l.message);else{const r=Wn.create("idb-set",{originalErrorMessage:l?.message});En.warn(r.message)}}}function dp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=1024,Gb=30;class Vb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Xb(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>Gb){const o=Kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){En.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lg(),{heartbeatsToSend:l,unsentEntries:r}=Qb(this._heartbeatsCache.heartbeats),o=xr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return En.warn(n),""}}}function lg(){return new Date().toISOString().substring(0,10)}function Qb(s,n=Yb){const l=[];let r=s.slice();for(const o of s){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),sg(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),sg(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class Xb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?D1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await jb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return ig(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return ig(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function sg(s){return xr(JSON.stringify({version:2,heartbeats:s})).length}function Kb(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let r=1;r<s.length;r++)s[r].date<l&&(l=s[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(s){Lr(new Ps("platform-logger",n=>new nb(n),"PRIVATE")),Lr(new Ps("heartbeat",n=>new Vb(n),"PRIVATE")),Tl(Qc,tg,s),Tl(Qc,tg,"esm2020"),Tl("fire-js","")}Zb("");var Pb="firebase",Fb="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tl(Pb,Fb,"app");var ag={};const rg="@firebase/database",ug="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p="";function Wb(s){_p=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Fe(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Zs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return tn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Jb(n)}}catch{}return new $b},Ai=mp("localStorage"),eS=mp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new up("@firebase/database"),tS=(function(){let s=1;return function(){return s++}})(),gp=function(s){const n=H1(s),l=new L1;l.update(n);const r=l.digest();return cf.encodeByteArray(r)},aa=function(...s){let n="";for(let l=0;l<s.length;l++){const r=s[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=aa.apply(null,r):typeof r=="object"?n+=Fe(r):n+=r,n+=" "}return n};let Gs=null,og=!0;const nS=function(s,n){H(!0,"Can't turn on custom loggers persistently."),Al.logLevel=Re.VERBOSE,Gs=Al.log.bind(Al)},nt=function(...s){if(og===!0&&(og=!1,Gs===null&&eS.get("logging_enabled")===!0&&nS()),Gs){const n=aa.apply(null,s);Gs(n)}},ra=function(s){return function(...n){nt(s,...n)}},Zc=function(...s){const n="FIREBASE INTERNAL ERROR: "+aa(...s);Al.error(n)},Cn=function(...s){const n=`FIREBASE FATAL ERROR: ${aa(...s)}`;throw Al.error(n),new Error(n)},pt=function(...s){const n="FIREBASE WARNING: "+aa(...s);Al.warn(n)},iS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wr=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},lS=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ol="[MIN_NAME]",wi="[MAX_NAME]",zi=function(s,n){if(s===n)return 0;if(s===Ol||n===wi)return-1;if(n===Ol||s===wi)return 1;{const l=cg(s),r=cg(n);return l!==null?r!==null?l-r===0?s.length-n.length:l-r:-1:r!==null?1:s<n?-1:1}},sS=function(s,n){return s===n?0:s<n?-1:1},Bs=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+Fe(n))},df=function(s){if(typeof s!="object"||s===null)return Fe(s);const n=[];for(const r in s)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=Fe(n[r]),l+=":",l+=df(s[n[r]]);return l+="}",l},pp=function(s,n){const l=s.length;if(l<=n)return[s];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(s.substring(o,l)):r.push(s.substring(o,o+n));return r};function ut(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const yp=function(s){H(!Wr(s),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,_,p;s===0?(f=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(_=Math.min(Math.floor(Math.log(s)/Math.LN2),r),f=_+r,h=Math.round(s*Math.pow(2,l-_)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-r-l))));const m=[];for(p=l;p;p-=1)m.push(h%2?1:0),h=Math.floor(h/2);for(p=n;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);m.push(o?1:0),m.reverse();const v=m.join("");let S="";for(p=0;p<64;p+=8){let b=parseInt(v.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),S=S+b}return S.toLowerCase()},aS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uS(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+l);return r.code=s.toUpperCase(),r}const oS=new RegExp("^-?(0*)\\d{1,10}$"),cS=-2147483648,fS=2147483647,cg=function(s){if(oS.test(s)){const n=Number(s);if(n>=cS&&n<=fS)return n}return null},Hl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw pt("Exception was thrown by user callback.",l),n},Math.floor(0))}},hS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vs=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,zb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(n)}}class Or{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Or.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="5",vp="v",bp="s",Sp="r",Ep="f",Cp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tp="ls",Ap="p",Pc="ac",Np="websocket",Rp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(n,l,r,o,f=!1,h="",_=!1,p=!1,m=null){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ai.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ai.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function mS(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function wp(s,n,l){H(typeof n=="string","typeof type must == string"),H(typeof l=="object","typeof params must == object");let r;if(n===Np)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Rp)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);mS(s)&&(l.ns=s.namespace);const o=[];return ut(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.counters_={}}incrementCounter(n,l=1){tn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return f1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={},Lc={};function mf(s){const n=s.toString();return zc[n]||(zc[n]=new gS),zc[n]}function pS(s,n){const l=s.toString();return Lc[l]||(Lc[l]=n()),Lc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Hl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="start",vS="close",bS="pLPCommand",SS="pRTLPCB",Op="id",xp="pw",Mp="ser",ES="cb",CS="seg",TS="ts",AS="d",NS="dframe",Up=1870,zp=30,RS=Up-zp,DS=25e3,wS=3e4;class Cl{constructor(n,l,r,o,f,h,_){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ra(n),this.stats_=mf(l),this.urlFn=p=>(this.appCheckToken&&(p[Pc]=this.appCheckToken),wp(l,Rp,p))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new yS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(wS)),lS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gf((...f)=>{const[h,_,p,m,v]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===fg)this.id=_,this.password=p;else if(h===vS)_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,_]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const r={};r[fg]="t",r[Mp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ES]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vp]=_f,this.transportSessionId&&(r[bp]=this.transportSessionId),this.lastSessionId&&(r[Tp]=this.lastSessionId),this.applicationId&&(r[Ap]=this.applicationId),this.appCheckToken&&(r[Pc]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(r[Sp]=Ep);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cl.forceAllow_=!0}static forceDisallow(){Cl.forceDisallow_=!0}static isAvailable(){return Cl.forceAllow_?!0:!Cl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aS()&&!rS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=Fe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=tp(l),o=pp(r,RS);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[NS]="t",r[Op]=n,r[xp]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=Fe(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class gf{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tS(),window[bS+this.uniqueCallbackIdentifier]=n,window[SS+this.uniqueCallbackIdentifier]=l,this.myIFrame=gf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){nt("frame writing exception"),_.stack&&nt(_.stack),nt(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||nt("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Op]=this.myID,n[xp]=this.myPW,n[Mp]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zp+r.length<=Up;){const h=this.pendingSegs.shift();r=r+"&"+CS+o+"="+h.seg+"&"+TS+o+"="+h.ts+"&"+AS+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(DS)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{nt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=16384,xS=45e3;let Hr=null;typeof MozWebSocket<"u"?Hr=MozWebSocket:typeof WebSocket<"u"&&(Hr=WebSocket);class Yt{constructor(n,l,r,o,f,h,_){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ra(this.connId),this.stats_=mf(l),this.connURL=Yt.connectionURL_(l,h,_,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[vp]=_f,typeof location<"u"&&location.hostname&&Cp.test(location.hostname)&&(h[Sp]=Ep),l&&(h[bp]=l),r&&(h[Tp]=r),o&&(h[Pc]=o),f&&(h[Ap]=f),wp(n,Np,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ai.set("previous_websocket_failure",!0);try{let r;N1(),this.mySock=new Hr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Hr!==null&&!Yt.forceDisallow_}static previouslyFailed(){return Ai.isInMemoryStorage||Ai.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ai.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=Zs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(H(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=Fe(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=pp(l,OS);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{static get ALL_TRANSPORTS(){return[Cl,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Yt&&Yt.isAvailable();let r=l&&!Yt.previouslyFailed();if(n.webSocketOnly&&(l||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{const o=this.transports_=[];for(const f of Ws.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ws.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=6e4,US=5e3,zS=10*1024,LS=100*1024,Hc="t",hg="d",HS="s",dg="r",IS="e",_g="o",mg="a",gg="n",pg="p",BS="h";class kS{constructor(n,l,r,o,f,h,_,p,m,v){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ra("c:"+this.id+":"),this.transportManager_=new Ws(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Vs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Hc in n){const l=n[Hc];l===mg?this.upgradeIfSecondaryHealthy_():l===dg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===_g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Bs("t",n),r=Bs("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:pg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Bs("t",n),r=Bs("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Bs(Hc,n);if(hg in n){const r=n[hg];if(l===BS){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===gg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===HS?this.onConnectionShutdown_(r):l===dg?this.onReset_(r):l===IS?Zc("Server Error: "+r):l===_g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zc("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),_f!==r&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Vs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(US))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:pg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(n){this.allowedEvents_=n,this.listeners_={},H(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){H(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Hp{static getInstance(){return new Ir}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return H(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=32,vg=768;class pe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function he(){return new pe("")}function te(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function $n(s){return s.pieces_.length-s.pieceNum_}function Te(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new pe(s.pieces_,n)}function pf(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function qS(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function Js(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function Ip(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new pe(n,0)}function Be(s,n){const l=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)l.push(s.pieces_[r]);if(n instanceof pe)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new pe(l,0)}function ie(s){return s.pieceNum_>=s.pieces_.length}function mt(s,n){const l=te(s),r=te(n);if(l===null)return n;if(l===r)return mt(Te(s),Te(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function jS(s,n){const l=Js(s,0),r=Js(n,0);for(let o=0;o<l.length&&o<r.length;o++){const f=zi(l[o],r[o]);if(f!==0)return f}return l.length===r.length?0:l.length<r.length?-1:1}function yf(s,n){if($n(s)!==$n(n))return!1;for(let l=s.pieceNum_,r=n.pieceNum_;l<=s.pieces_.length;l++,r++)if(s.pieces_[l]!==n.pieces_[r])return!1;return!0}function Bt(s,n){let l=s.pieceNum_,r=n.pieceNum_;if($n(s)>$n(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class YS{constructor(n,l){this.errorPrefix_=l,this.parts_=Js(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fr(this.parts_[r]);Bp(this)}}function GS(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Fr(n),Bp(s)}function VS(s){const n=s.parts_.pop();s.byteLength_-=Fr(n),s.parts_.length>0&&(s.byteLength_-=1)}function Bp(s){if(s.byteLength_>vg)throw new Error(s.errorPrefix_+"has a key path longer than "+vg+" bytes ("+s.byteLength_+").");if(s.parts_.length>yg)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yg+") or object contains a cycle "+Ci(s))}function Ci(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Hp{static getInstance(){return new vf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=1e3,QS=300*1e3,bg=30*1e3,XS=1.3,KS=3e4,ZS="server_kill",Sg=3;class Sn extends Lp{constructor(n,l,r,o,f,h,_,p){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=_,this.authOverride_=p,this.id=Sn.nextPersistentConnectionId_++,this.log_=ra("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ks,this.maxReconnectDelay_=QS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ir.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(Fe(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new vn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const _=h.d;h.s==="ok"?l.resolve(_):l.reject(_)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const _={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,_),this.connected_&&this.sendListen_(_)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,_=>{const p=_.d,m=_.s;Sn.warnOnListenWarnings_(p,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",_),m!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(m,p))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&tn(n,"w")){const r=Dl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||U1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bg)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=M1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const _=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(_):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Fe(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Zc("Unrecognized action received from server: "+Fe(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>KS&&(this.reconnectDelay_=ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Sn.nextConnectionId_++,f=this.lastSessionId;let h=!1,_=null;const p=function(){_?_.close():(h=!0,r())},m=function(S){H(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(S)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);h?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=b&&b.token,_=new kS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,U=>{pt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZS)},f))}catch(S){this.log_("Failed to get token: "+S),h||(this.repoInfo_.nodeAdmin&&pt(S),p())}}}interrupt(n){nt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){nt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Yc(this.interruptReasons_)&&(this.reconnectDelay_=ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>df(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new pe(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){nt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Sg&&(this.reconnectDelay_=bg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){nt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Sg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+_p.replace(/\./g,"-")]=1,sp()?n["framework.cordova"]=1:A1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ir.getInstance().currentlyOnline();return Yc(this.interruptReasons_)&&n}}Sn.nextPersistentConnectionId_=0;Sn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new le(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new le(Ol,n),o=new le(Ol,l);return this.compare(r,o)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr;class kp extends Jr{static get __EMPTY_NODE(){return Rr}static set __EMPTY_NODE(n){Rr=n}compare(n,l){return zi(n.name,l.name)}isDefinedOn(n){throw Ll("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return le.MIN}maxPost(){return new le(wi,Rr)}makePost(n,l){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new le(n,Rr)}toString(){return".key"}}const Nl=new kp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class Pe{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??Pe.RED,this.left=o??gt.EMPTY_NODE,this.right=f??gt.EMPTY_NODE}copy(n,l,r,o,f){return new Pe(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return gt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}Pe.RED=!0;Pe.BLACK=!1;class PS{copy(n,l,r,o,f){return this}insert(n,l,r){return new Pe(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(n,l=gt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new gt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,Pe.BLACK,null,null))}remove(n){return new gt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Pe.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Dr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Dr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Dr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Dr(this.root_,null,this.comparator_,!0,n)}}gt.EMPTY_NODE=new PS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(s,n){return zi(s.name,n.name)}function bf(s,n){return zi(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc;function WS(s){Fc=s}const qp=function(s){return typeof s=="number"?"number:"+yp(s):"string:"+s},jp=function(s){if(s.isLeafNode()){const n=s.val();H(typeof n=="string"||typeof n=="number"||typeof n=="object"&&tn(n,".sv"),"Priority must be a string or number.")}else H(s===Fc||s.isEmpty(),"priority of unexpected type.");H(s===Fc||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg;class Ze{static set __childrenNodeConstructor(n){Eg=n}static get __childrenNodeConstructor(){return Eg}constructor(n,l=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Ze(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ie(n)?this:te(n)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=te(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||$n(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+qp(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=yp(this.value_):n+=this.value_,this.lazyHash_=gp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Ze.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Ze.__childrenNodeConstructor?-1:(H(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=Ze.VALUE_TYPE_ORDER.indexOf(l),f=Ze.VALUE_TYPE_ORDER.indexOf(r);return H(o>=0,"Unknown leaf type: "+l),H(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp,Gp;function JS(s){Yp=s}function $S(s){Gp=s}class eE extends Jr{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?zi(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return le.MIN}maxPost(){return new le(wi,new Ze("[PRIORITY-POST]",Gp))}makePost(n,l){const r=Yp(n);return new le(l,new Ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const Me=new eE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=Math.log(2);class nE{constructor(n){const l=f=>parseInt(Math.log(f)/tE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Br=function(s,n,l,r){s.sort(n);const o=function(p,m){const v=m-p;let S,b;if(v===0)return null;if(v===1)return S=s[p],b=l?l(S):S,new Pe(b,S.node,Pe.BLACK,null,null);{const U=parseInt(v/2,10)+p,L=o(p,U),G=o(U+1,m);return S=s[U],b=l?l(S):S,new Pe(b,S.node,Pe.BLACK,L,G)}},f=function(p){let m=null,v=null,S=s.length;const b=function(L,G){const F=S-L,_e=S;S-=L;const Ae=o(F+1,_e),Se=s[F],We=l?l(Se):Se;U(new Pe(We,Se.node,G,null,Ae))},U=function(L){m?(m.left=L,m=L):(v=L,m=L)};for(let L=0;L<p.count;++L){const G=p.nextBitIsOne(),F=Math.pow(2,p.count-(L+1));G?b(F,Pe.BLACK):(b(F,Pe.BLACK),b(F,Pe.RED))}return v},h=new nE(s.length),_=f(h);return new gt(r||n,_)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;const El={};class bn{static get Default(){return H(El&&Me,"ChildrenNode.ts has not been loaded"),Ic=Ic||new bn({".priority":El},{".priority":Me}),Ic}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Dl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof gt?l:null}hasIndex(n){return tn(this.indexSet_,n.toString())}addIndex(n,l){H(n!==Nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(le.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let _;o?_=Br(r,n.getCompare()):_=El;const p=n.toString(),m={...this.indexSet_};m[p]=n;const v={...this.indexes_};return v[p]=_,new bn(v,m)}addToIndexes(n,l){const r=Mr(this.indexes_,(o,f)=>{const h=Dl(this.indexSet_,f);if(H(h,"Missing index implementation for "+f),o===El)if(h.isDefinedOn(n.node)){const _=[],p=l.getIterator(le.Wrap);let m=p.getNext();for(;m;)m.name!==n.name&&_.push(m),m=p.getNext();return _.push(n),Br(_,h.getCompare())}else return El;else{const _=l.get(n.name);let p=o;return _&&(p=p.remove(new le(n.name,_))),p.insert(n,n.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Mr(this.indexes_,o=>{if(o===El)return o;{const f=l.get(n.name);return f?o.remove(new le(n.name,f)):o}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs;class P{static get EMPTY_NODE(){return qs||(qs=new P(new gt(bf),null,bn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jp(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qs}updatePriority(n){return this.children_.isEmpty()?this:new P(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?qs:l}}getChild(n){const l=te(n);return l===null?this:this.getImmediateChild(l).getChild(Te(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(H(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new le(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?qs:this.priorityNode_;return new P(o,h,f)}}updateChild(n,l){const r=te(n);if(r===null)return l;{H(te(n)!==".priority"||$n(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Te(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(Me,(h,_)=>{l[h]=_.val(n),r++,f&&P.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const _ in l)h[_]=l[_];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+qp(this.getPriority().val())+":"),this.forEachChild(Me,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":gp(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new le(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new le(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new le(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,le.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,le.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ua?-1:0}withIndex(n){if(n===Nl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new P(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Nl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Me),o=l.getIterator(Me);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Nl?null:this.indexMap_.get(n.toString())}}P.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class iE extends P{constructor(){super(new gt(bf),P.EMPTY_NODE,bn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return P.EMPTY_NODE}isEmpty(){return!1}}const ua=new iE;Object.defineProperties(le,{MIN:{value:new le(Ol,P.EMPTY_NODE)},MAX:{value:new le(wi,ua)}});kp.__EMPTY_NODE=P.EMPTY_NODE;Ze.__childrenNodeConstructor=P;WS(ua);$S(ua);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=!0;function je(s,n=null){if(s===null)return P.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),H(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new Ze(l,je(n))}if(!(s instanceof Array)&&lE){const l=[];let r=!1;if(ut(s,(h,_)=>{if(h.substring(0,1)!=="."){const p=je(_);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),l.push(new le(h,p)))}}),l.length===0)return P.EMPTY_NODE;const f=Br(l,FS,h=>h.name,bf);if(r){const h=Br(l,Me.getCompare());return new P(f,je(n),new bn({".priority":h},{".priority":Me}))}else return new P(f,je(n),bn.Default)}else{let l=P.EMPTY_NODE;return ut(s,(r,o)=>{if(tn(s,r)&&r.substring(0,1)!=="."){const f=je(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(je(n))}}JS(je);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Jr{constructor(n){super(),this.indexPath_=n,H(!ie(n)&&te(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?zi(n.name,l.name):f}makePost(n,l){const r=je(n),o=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(l,o)}maxPost(){const n=P.EMPTY_NODE.updateChild(this.indexPath_,ua);return new le(wi,n)}toString(){return Js(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Jr{compare(n,l){const r=n.node.compareTo(l.node);return r===0?zi(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(n,l){const r=je(n);return new le(l,r)}toString(){return".value"}}const rE=new aE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(s){return{type:"value",snapshotNode:s}}function xl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function $s(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function ea(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function uE(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){H(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(l);return _.getChild(o).equals(r.getChild(o))&&_.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange($s(l,_)):H(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(xl(l,r)):h.trackChildChange(ea(l,r,_))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Me,(o,f)=>{l.hasChild(o)||r.trackChildChange($s(o,f))}),l.isLeafNode()||l.forEachChild(Me,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(ea(o,f,h))}else r.trackChildChange(xl(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?P.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(n){this.indexedFilter_=new Sf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ta.getStartPost_(n),this.endPost_=ta.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new le(l,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=P.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(P.EMPTY_NODE);const f=this;return l.forEachChild(Me,(h,_)=>{f.matches(new le(h,_))||(o=o.updateImmediateChild(h,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ta(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new le(l,r))||(r=P.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=P.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const _=f.getNext();if(this.withinDirectionalStart(_))if(this.withinDirectionalEnd(_))o=o.updateImmediateChild(_.name,_.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(P.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const _=f.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:o=o.updateImmediateChild(_.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const S=this.index_.getCompare();h=(b,U)=>S(U,b)}else h=this.index_.getCompare();const _=n;H(_.numChildren()===this.limit_,"");const p=new le(l,r),m=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(_.hasChild(l)){const S=_.getImmediateChild(l);let b=o.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===l||_.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const U=b==null?1:h(b,p);if(v&&!r.isEmpty()&&U>=0)return f?.trackChildChange(ea(l,r,S)),_.updateImmediateChild(l,r);{f?.trackChildChange($s(l,S));const G=_.updateImmediateChild(l,P.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(f?.trackChildChange(xl(b.name,b.node)),G.updateImmediateChild(b.name,b.node)):G}}else return r.isEmpty()?n:v&&h(m,p)>=0?(f!=null&&(f.trackChildChange($s(m.name,m.node)),f.trackChildChange(xl(l,r))),_.updateImmediateChild(l,r).updateImmediateChild(m.name,P.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ol}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const n=new Ef;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function cE(s){return s.loadsAllData()?new Sf(s.getIndex()):s.hasLimit()?new oE(s):new ta(s)}function Cg(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Me?l="$priority":s.index_===rE?l="$value":s.index_===Nl?l="$key":(H(s.index_ instanceof sE,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=Fe(l),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=Fe(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+Fe(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=Fe(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+Fe(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Tg(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Me&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Lp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ra("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=kr.getListenId_(n,r),_={};this.listens_[h]=_;const p=Cg(n._queryParams);this.restRequest_(f+".json",p,(m,v)=>{let S=v;if(m===404&&(S=null,m=null),m===null&&this.onDataUpdate_(f,S,!1,r),Dl(this.listens_,h)===_){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",o(b,null)}})}unlisten(n,l){const r=kr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Cg(n._queryParams),r=n._path.toString(),o=new vn;return this.restRequest_(r+".json",l,(f,h)=>{let _=h;f===404&&(_=null,f=null),f===null?(this.onDataUpdate_(r,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+z1(l);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(r&&_.readyState===4){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let p=null;if(_.status>=200&&_.status<300){try{p=Zs(_.responseText)}catch{pt("Failed to parse JSON response for "+h+": "+_.responseText)}r(null,p)}else _.status!==401&&_.status!==404&&pt("Got unsuccessful REST response for "+h+" Status: "+_.status),r(_.status);r=null}},_.open("GET",h,!0),_.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return{value:null,children:new Map}}function Il(s,n,l){if(ie(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const r=te(n);s.children.has(r)||s.children.set(r,qr());const o=s.children.get(r);n=Te(n),Il(o,n,l)}}function Wc(s,n){if(ie(n))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const l=s.value;return s.value=null,l.forEachChild(Me,(r,o)=>{Il(s,new pe(r),o)}),Wc(s,n)}}else if(s.children.size>0){const l=te(n);return n=Te(n),s.children.has(l)&&Wc(s.children.get(l),n)&&s.children.delete(l),s.children.size===0}else return!0}function Jc(s,n,l){s.value!==null?l(n,s.value):hE(s,(r,o)=>{const f=new pe(n.toString()+"/"+r);Jc(o,f,l)})}function hE(s,n){s.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&ut(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=10*1e3,_E=30*1e3,mE=300*1e3;class gE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new dE(n);const r=Ag+(_E-Ag)*Math.random();Vs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;ut(n,(o,f)=>{f>0&&tn(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),Vs(this.reportStats_.bind(this),Math.floor(Math.random()*2*mE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function Qp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Cf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tf(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=Qp()}operationForChild(n){if(ie(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new pe(n));return new jr(he(),l,this.revert)}}else return H(te(this.path)===n,"operationForChild called for unrelated child."),new jr(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(n,l){this.source=n,this.path=l,this.type=Gt.LISTEN_COMPLETE}operationForChild(n){return ie(this.path)?new na(this.source,he()):new na(this.source,Te(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(n){return ie(this.path)?new Oi(this.source,he(),this.snap.getImmediateChild(n)):new Oi(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=Gt.MERGE}operationForChild(n){if(ie(this.path)){const l=this.children.subtree(new pe(n));return l.isEmpty()?null:l.value?new Oi(this.source,he(),l.value):new ia(this.source,he(),l)}else return H(te(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ie(n))return this.isFullyInitialized()&&!this.filtered_;const l=te(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function yE(s,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(uE(h.childName,h.snapshotNode))}),js(s,o,"child_removed",n,r,l),js(s,o,"child_added",n,r,l),js(s,o,"child_moved",f,r,l),js(s,o,"child_changed",n,r,l),js(s,o,"value",n,r,l),o}function js(s,n,l,r,o,f){const h=r.filter(_=>_.type===l);h.sort((_,p)=>bE(s,_,p)),h.forEach(_=>{const p=vE(s,_,f);o.forEach(m=>{m.respondsTo(_.type)&&n.push(m.createEvent(p,s.query_))})})}function vE(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function bE(s,n,l){if(n.childName==null||l.childName==null)throw Ll("Should only compare child_ events.");const r=new le(n.childName,n.snapshotNode),o=new le(l.childName,l.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(s,n){return{eventCache:s,serverCache:n}}function Qs(s,n,l,r){return $r(new xi(n,l,r),s.serverCache)}function Xp(s,n,l,r){return $r(s.eventCache,new xi(n,l,r))}function $c(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Mi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;const SE=()=>(Bc||(Bc=new gt(sS)),Bc);class De{static fromObject(n){let l=new De(null);return ut(n,(r,o)=>{l=l.set(new pe(r),o)}),l}constructor(n,l=SE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:he(),value:this.value};if(ie(n))return null;{const r=te(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Te(n),l);return f!=null?{path:Be(new pe(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ie(n))return this;{const l=te(n),r=this.children.get(l);return r!==null?r.subtree(Te(n)):new De(null)}}set(n,l){if(ie(n))return new De(l,this.children);{const r=te(n),f=(this.children.get(r)||new De(null)).set(Te(n),l),h=this.children.insert(r,f);return new De(this.value,h)}}remove(n){if(ie(n))return this.children.isEmpty()?new De(null):new De(null,this.children);{const l=te(n),r=this.children.get(l);if(r){const o=r.remove(Te(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new De(null):new De(this.value,f)}else return this}}get(n){if(ie(n))return this.value;{const l=te(n),r=this.children.get(l);return r?r.get(Te(n)):null}}setTree(n,l){if(ie(n))return l;{const r=te(n),f=(this.children.get(r)||new De(null)).setTree(Te(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new De(this.value,h)}}fold(n){return this.fold_(he(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(Be(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,he(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(ie(n))return null;{const f=te(n),h=this.children.get(f);return h?h.findOnPath_(Te(n),Be(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,he(),l)}foreachOnPath_(n,l,r){if(ie(n))return this;{this.value&&r(l,this.value);const o=te(n),f=this.children.get(o);return f?f.foreachOnPath_(Te(n),Be(l,o),r):new De(null)}}foreach(n){this.foreach_(he(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(Be(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(n){this.writeTree_=n}static empty(){return new Vt(new De(null))}}function Xs(s,n,l){if(ie(n))return new Vt(new De(l));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=mt(o,n);return f=f.updateChild(h,l),new Vt(s.writeTree_.set(o,f))}else{const o=new De(l),f=s.writeTree_.setTree(n,o);return new Vt(f)}}}function Ng(s,n,l){let r=s;return ut(l,(o,f)=>{r=Xs(r,Be(n,o),f)}),r}function Rg(s,n){if(ie(n))return Vt.empty();{const l=s.writeTree_.setTree(n,new De(null));return new Vt(l)}}function ef(s,n){return Li(s,n)!=null}function Li(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(mt(l.path,n)):null}function Dg(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Me,(r,o)=>{n.push(new le(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new le(r,o.value))}),n}function Jn(s,n){if(ie(n))return s;{const l=Li(s,n);return l!=null?new Vt(new De(l)):new Vt(s.writeTree_.subtree(n))}}function tf(s){return s.writeTree_.isEmpty()}function Ml(s,n){return Kp(he(),s.writeTree_,n)}function Kp(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=Kp(Be(s,o),f,l)}),!l.getChild(s).isEmpty()&&r!==null&&(l=l.updateChild(Be(s,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(s,n){return Wp(n,s)}function EE(s,n,l,r,o){H(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(s.visibleWrites=Xs(s.visibleWrites,n,l)),s.lastWriteId=r}function CE(s,n){for(let l=0;l<s.allWrites.length;l++){const r=s.allWrites[l];if(r.writeId===n)return r}return null}function TE(s,n){const l=s.allWrites.findIndex(_=>_.writeId===n);H(l>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[l];s.allWrites.splice(l,1);let o=r.visible,f=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const _=s.allWrites[h];_.visible&&(h>=l&&AE(_,r.path)?o=!1:Bt(r.path,_.path)&&(f=!0)),h--}if(o){if(f)return NE(s),!0;if(r.snap)s.visibleWrites=Rg(s.visibleWrites,r.path);else{const _=r.children;ut(_,p=>{s.visibleWrites=Rg(s.visibleWrites,Be(r.path,p))})}return!0}else return!1}function AE(s,n){if(s.snap)return Bt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Bt(Be(s.path,l),n))return!0;return!1}function NE(s){s.visibleWrites=Zp(s.allWrites,RE,he()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function RE(s){return s.visible}function Zp(s,n,l){let r=Vt.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const h=f.path;let _;if(f.snap)Bt(l,h)?(_=mt(l,h),r=Xs(r,_,f.snap)):Bt(h,l)&&(_=mt(h,l),r=Xs(r,he(),f.snap.getChild(_)));else if(f.children){if(Bt(l,h))_=mt(l,h),r=Ng(r,_,f.children);else if(Bt(h,l))if(_=mt(h,l),ie(_))r=Ng(r,he(),f.children);else{const p=Dl(f.children,te(_));if(p){const m=p.getChild(Te(_));r=Xs(r,he(),m)}}}else throw Ll("WriteRecord should have .snap or .children")}}return r}function Pp(s,n,l,r,o){if(!r&&!o){const f=Li(s.visibleWrites,n);if(f!=null)return f;{const h=Jn(s.visibleWrites,n);if(tf(h))return l;if(l==null&&!ef(h,he()))return null;{const _=l||P.EMPTY_NODE;return Ml(h,_)}}}else{const f=Jn(s.visibleWrites,n);if(!o&&tf(f))return l;if(!o&&l==null&&!ef(f,he()))return null;{const h=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(Bt(m.path,n)||Bt(n,m.path))},_=Zp(s.allWrites,h,n),p=l||P.EMPTY_NODE;return Ml(_,p)}}}function DE(s,n,l){let r=P.EMPTY_NODE;const o=Li(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Me,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=Jn(s.visibleWrites,n);return l.forEachChild(Me,(h,_)=>{const p=Ml(Jn(f,new pe(h)),_);r=r.updateImmediateChild(h,p)}),Dg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=Jn(s.visibleWrites,n);return Dg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function wE(s,n,l,r,o){H(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=Be(n,l);if(ef(s.visibleWrites,f))return null;{const h=Jn(s.visibleWrites,f);return tf(h)?o.getChild(l):Ml(h,o.getChild(l))}}function OE(s,n,l,r){const o=Be(n,l),f=Li(s.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=Jn(s.visibleWrites,o);return Ml(h,r.getNode().getImmediateChild(l))}else return null}function xE(s,n){return Li(s.visibleWrites,n)}function ME(s,n,l,r,o,f,h){let _;const p=Jn(s.visibleWrites,n),m=Li(p,he());if(m!=null)_=m;else if(l!=null)_=Ml(p,l);else return[];if(_=_.withIndex(h),!_.isEmpty()&&!_.isLeafNode()){const v=[],S=h.getCompare(),b=f?_.getReverseIteratorFrom(r,h):_.getIteratorFrom(r,h);let U=b.getNext();for(;U&&v.length<o;)S(U,r)!==0&&v.push(U),U=b.getNext();return v}else return[]}function UE(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Yr(s,n,l,r){return Pp(s.writeTree,s.treePath,n,l,r)}function Nf(s,n){return DE(s.writeTree,s.treePath,n)}function wg(s,n,l,r){return wE(s.writeTree,s.treePath,n,l,r)}function Gr(s,n){return xE(s.writeTree,Be(s.treePath,n))}function zE(s,n,l,r,o,f){return ME(s.writeTree,s.treePath,n,l,r,o,f)}function Rf(s,n,l){return OE(s.writeTree,s.treePath,n,l)}function Fp(s,n){return Wp(Be(s.treePath,n),s.writeTree)}function Wp(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;H(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,ea(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,$s(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,xl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,ea(r,n.snapshotNode,o.oldSnap));else throw Ll("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Jp=new HE;class Df{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Mi(this.viewCache_),f=zE(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(s){return{filter:s}}function BE(s,n){H(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),H(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function kE(s,n,l,r,o){const f=new LE;let h,_;if(l.type===Gt.OVERWRITE){const m=l;m.source.fromUser?h=nf(s,n,m.path,m.snap,r,o,f):(H(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered()&&!ie(m.path),h=Vr(s,n,m.path,m.snap,r,o,_,f))}else if(l.type===Gt.MERGE){const m=l;m.source.fromUser?h=jE(s,n,m.path,m.children,r,o,f):(H(m.source.fromServer,"Unknown source."),_=m.source.tagged||n.serverCache.isFiltered(),h=lf(s,n,m.path,m.children,r,o,_,f))}else if(l.type===Gt.ACK_USER_WRITE){const m=l;m.revert?h=VE(s,n,m.path,r,o,f):h=YE(s,n,m.path,m.affectedTree,r,o,f)}else if(l.type===Gt.LISTEN_COMPLETE)h=GE(s,n,l.path,r,f);else throw Ll("Unknown operation type: "+l.type);const p=f.getChanges();return qE(n,h,p),{viewCache:h,changes:p}}function qE(s,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=$c(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(Vp($c(n)))}}function $p(s,n,l,r,o,f){const h=n.eventCache;if(Gr(r,l)!=null)return n;{let _,p;if(ie(l))if(H(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const m=Mi(n),v=m instanceof P?m:P.EMPTY_NODE,S=Nf(r,v);_=s.filter.updateFullNode(n.eventCache.getNode(),S,f)}else{const m=Yr(r,Mi(n));_=s.filter.updateFullNode(n.eventCache.getNode(),m,f)}else{const m=te(l);if(m===".priority"){H($n(l)===1,"Can't have a priority with additional path components");const v=h.getNode();p=n.serverCache.getNode();const S=wg(r,l,v,p);S!=null?_=s.filter.updatePriority(v,S):_=h.getNode()}else{const v=Te(l);let S;if(h.isCompleteForChild(m)){p=n.serverCache.getNode();const b=wg(r,l,h.getNode(),p);b!=null?S=h.getNode().getImmediateChild(m).updateChild(v,b):S=h.getNode().getImmediateChild(m)}else S=Rf(r,m,n.serverCache);S!=null?_=s.filter.updateChild(h.getNode(),m,S,v,o,f):_=h.getNode()}}return Qs(n,_,h.isFullyInitialized()||ie(l),s.filter.filtersNodes())}}function Vr(s,n,l,r,o,f,h,_){const p=n.serverCache;let m;const v=h?s.filter:s.filter.getIndexedFilter();if(ie(l))m=v.updateFullNode(p.getNode(),r,null);else if(v.filtersNodes()&&!p.isFiltered()){const U=p.getNode().updateChild(l,r);m=v.updateFullNode(p.getNode(),U,null)}else{const U=te(l);if(!p.isCompleteForPath(l)&&$n(l)>1)return n;const L=Te(l),F=p.getNode().getImmediateChild(U).updateChild(L,r);U===".priority"?m=v.updatePriority(p.getNode(),F):m=v.updateChild(p.getNode(),U,F,L,Jp,null)}const S=Xp(n,m,p.isFullyInitialized()||ie(l),v.filtersNodes()),b=new Df(o,S,f);return $p(s,S,l,o,b,_)}function nf(s,n,l,r,o,f,h){const _=n.eventCache;let p,m;const v=new Df(o,n,f);if(ie(l))m=s.filter.updateFullNode(n.eventCache.getNode(),r,h),p=Qs(n,m,!0,s.filter.filtersNodes());else{const S=te(l);if(S===".priority")m=s.filter.updatePriority(n.eventCache.getNode(),r),p=Qs(n,m,_.isFullyInitialized(),_.isFiltered());else{const b=Te(l),U=_.getNode().getImmediateChild(S);let L;if(ie(b))L=r;else{const G=v.getCompleteChild(S);G!=null?pf(b)===".priority"&&G.getChild(Ip(b)).isEmpty()?L=G:L=G.updateChild(b,r):L=P.EMPTY_NODE}if(U.equals(L))p=n;else{const G=s.filter.updateChild(_.getNode(),S,L,b,v,h);p=Qs(n,G,_.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function Og(s,n){return s.eventCache.isCompleteForChild(n)}function jE(s,n,l,r,o,f,h){let _=n;return r.foreach((p,m)=>{const v=Be(l,p);Og(n,te(v))&&(_=nf(s,_,v,m,o,f,h))}),r.foreach((p,m)=>{const v=Be(l,p);Og(n,te(v))||(_=nf(s,_,v,m,o,f,h))}),_}function xg(s,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function lf(s,n,l,r,o,f,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let p=n,m;ie(l)?m=r:m=new De(null).setTree(l,r);const v=n.serverCache.getNode();return m.children.inorderTraversal((S,b)=>{if(v.hasChild(S)){const U=n.serverCache.getNode().getImmediateChild(S),L=xg(s,U,b);p=Vr(s,p,new pe(S),L,o,f,h,_)}}),m.children.inorderTraversal((S,b)=>{const U=!n.serverCache.isCompleteForChild(S)&&b.value===null;if(!v.hasChild(S)&&!U){const L=n.serverCache.getNode().getImmediateChild(S),G=xg(s,L,b);p=Vr(s,p,new pe(S),G,o,f,h,_)}}),p}function YE(s,n,l,r,o,f,h){if(Gr(o,l)!=null)return n;const _=n.serverCache.isFiltered(),p=n.serverCache;if(r.value!=null){if(ie(l)&&p.isFullyInitialized()||p.isCompleteForPath(l))return Vr(s,n,l,p.getNode().getChild(l),o,f,_,h);if(ie(l)){let m=new De(null);return p.getNode().forEachChild(Nl,(v,S)=>{m=m.set(new pe(v),S)}),lf(s,n,l,m,o,f,_,h)}else return n}else{let m=new De(null);return r.foreach((v,S)=>{const b=Be(l,v);p.isCompleteForPath(b)&&(m=m.set(v,p.getNode().getChild(b)))}),lf(s,n,l,m,o,f,_,h)}}function GE(s,n,l,r,o){const f=n.serverCache,h=Xp(n,f.getNode(),f.isFullyInitialized()||ie(l),f.isFiltered());return $p(s,h,l,r,Jp,o)}function VE(s,n,l,r,o,f){let h;if(Gr(r,l)!=null)return n;{const _=new Df(r,n,o),p=n.eventCache.getNode();let m;if(ie(l)||te(l)===".priority"){let v;if(n.serverCache.isFullyInitialized())v=Yr(r,Mi(n));else{const S=n.serverCache.getNode();H(S instanceof P,"serverChildren would be complete if leaf node"),v=Nf(r,S)}v=v,m=s.filter.updateFullNode(p,v,f)}else{const v=te(l);let S=Rf(r,v,n.serverCache);S==null&&n.serverCache.isCompleteForChild(v)&&(S=p.getImmediateChild(v)),S!=null?m=s.filter.updateChild(p,v,S,Te(l),_,f):n.eventCache.getNode().hasChild(v)?m=s.filter.updateChild(p,v,P.EMPTY_NODE,Te(l),_,f):m=p,m.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Yr(r,Mi(n)),h.isLeafNode()&&(m=s.filter.updateFullNode(m,h,f)))}return h=n.serverCache.isFullyInitialized()||Gr(r,he())!=null,Qs(n,m,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Sf(r.getIndex()),f=cE(r);this.processor_=IE(f);const h=l.serverCache,_=l.eventCache,p=o.updateFullNode(P.EMPTY_NODE,h.getNode(),null),m=f.updateFullNode(P.EMPTY_NODE,_.getNode(),null),v=new xi(p,h.isFullyInitialized(),o.filtersNodes()),S=new xi(m,_.isFullyInitialized(),f.filtersNodes());this.viewCache_=$r(S,v),this.eventGenerator_=new pE(this.query_)}get query(){return this.query_}}function XE(s){return s.viewCache_.serverCache.getNode()}function KE(s,n){const l=Mi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!ie(n)&&!l.getImmediateChild(te(n)).isEmpty())?l.getChild(n):null}function Mg(s){return s.eventRegistrations_.length===0}function ZE(s,n){s.eventRegistrations_.push(n)}function Ug(s,n,l){const r=[];if(l){H(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function zg(s,n,l,r){n.type===Gt.MERGE&&n.source.queryId!==null&&(H(Mi(s.viewCache_),"We should always have a full cache before handling merges"),H($c(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=kE(s.processor_,o,n,l,r);return BE(s.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,ey(s,f.changes,f.viewCache.eventCache.getNode(),null)}function PE(s,n){const l=s.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Me,(f,h)=>{r.push(xl(f,h))}),l.isFullyInitialized()&&r.push(Vp(l.getNode())),ey(s,r,l.getNode(),n)}function ey(s,n,l,r){const o=r?[r]:s.eventRegistrations_;return yE(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qr;class FE{constructor(){this.views=new Map}}function WE(s){H(!Qr,"__referenceConstructor has already been defined"),Qr=s}function JE(){return H(Qr,"Reference.ts has not been loaded"),Qr}function $E(s){return s.views.size===0}function wf(s,n,l,r){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),zg(f,n,l,r)}else{let f=[];for(const h of s.views.values())f=f.concat(zg(h,n,l,r));return f}}function eC(s,n,l,r,o){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let _=Yr(l,o?r:null),p=!1;_?p=!0:r instanceof P?(_=Nf(l,r),p=!1):(_=P.EMPTY_NODE,p=!1);const m=$r(new xi(_,p,!1),new xi(r,o,!1));return new QE(n,m)}return h}function tC(s,n,l,r,o,f){const h=eC(s,n,r,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),ZE(h,l),PE(h,l)}function nC(s,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const _=ei(s);if(o==="default")for(const[p,m]of s.views.entries())h=h.concat(Ug(m,l,r)),Mg(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||f.push(m.query));else{const p=s.views.get(o);p&&(h=h.concat(Ug(p,l,r)),Mg(p)&&(s.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return _&&!ei(s)&&f.push(new(JE())(n._repo,n._path)),{removed:f,events:h}}function ty(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Rl(s,n){let l=null;for(const r of s.views.values())l=l||KE(r,n);return l}function ny(s,n){if(n._queryParams.loadsAllData())return eu(s);{const r=n._queryIdentifier;return s.views.get(r)}}function iy(s,n){return ny(s,n)!=null}function ei(s){return eu(s)!=null}function eu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;function iC(s){H(!Xr,"__referenceConstructor has already been defined"),Xr=s}function lC(){return H(Xr,"Reference.ts has not been loaded"),Xr}let sC=1;class Lg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new De(null),this.pendingWriteTree_=UE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ly(s,n,l,r,o){return EE(s.pendingWriteTree_,n,l,r,o),o?oa(s,new Oi(Qp(),n,l)):[]}function Ni(s,n,l=!1){const r=CE(s.pendingWriteTree_,n);if(TE(s.pendingWriteTree_,n)){let f=new De(null);return r.snap!=null?f=f.set(he(),!0):ut(r.children,h=>{f=f.set(new pe(h),!0)}),oa(s,new jr(r.path,f,l))}else return[]}function tu(s,n,l){return oa(s,new Oi(Cf(),n,l))}function aC(s,n,l){const r=De.fromObject(l);return oa(s,new ia(Cf(),n,r))}function rC(s,n){return oa(s,new na(Cf(),n))}function uC(s,n,l){const r=xf(s,l);if(r){const o=Mf(r),f=o.path,h=o.queryId,_=mt(f,n),p=new na(Tf(h),_);return Uf(s,f,p)}else return[]}function sf(s,n,l,r,o=!1){const f=n._path,h=s.syncPointTree_.get(f);let _=[];if(h&&(n._queryIdentifier==="default"||iy(h,n))){const p=nC(h,n,l,r);$E(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const m=p.removed;if(_=p.events,!o){const v=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,S=s.syncPointTree_.findOnPath(f,(b,U)=>ei(U));if(v&&!S){const b=s.syncPointTree_.subtree(f);if(!b.isEmpty()){const U=fC(b);for(let L=0;L<U.length;++L){const G=U[L],F=G.query,_e=ry(s,G);s.listenProvider_.startListening(Ks(F),Kr(s,F),_e.hashFn,_e.onComplete)}}}!S&&m.length>0&&!r&&(v?s.listenProvider_.stopListening(Ks(n),null):m.forEach(b=>{const U=s.queryToTagMap.get(nu(b));s.listenProvider_.stopListening(Ks(b),U)}))}hC(s,m)}return _}function oC(s,n,l,r){const o=xf(s,r);if(o!=null){const f=Mf(o),h=f.path,_=f.queryId,p=mt(h,n),m=new Oi(Tf(_),p,l);return Uf(s,h,m)}else return[]}function cC(s,n,l,r){const o=xf(s,r);if(o){const f=Mf(o),h=f.path,_=f.queryId,p=mt(h,n),m=De.fromObject(l),v=new ia(Tf(_),p,m);return Uf(s,h,v)}else return[]}function Hg(s,n,l,r=!1){const o=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(o,(b,U)=>{const L=mt(b,o);f=f||Rl(U,L),h=h||ei(U)});let _=s.syncPointTree_.get(o);_?(h=h||ei(_),f=f||Rl(_,he())):(_=new FE,s.syncPointTree_=s.syncPointTree_.set(o,_));let p;f!=null?p=!0:(p=!1,f=P.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((U,L)=>{const G=Rl(L,he());G&&(f=f.updateImmediateChild(U,G))}));const m=iy(_,n);if(!m&&!n._queryParams.loadsAllData()){const b=nu(n);H(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const U=dC();s.queryToTagMap.set(b,U),s.tagToQueryMap.set(U,b)}const v=Af(s.pendingWriteTree_,o);let S=tC(_,n,l,v,f,p);if(!m&&!h&&!r){const b=ny(_,n);S=S.concat(_C(s,n,b))}return S}function Of(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,_)=>{const p=mt(h,n),m=Rl(_,p);if(m)return m});return Pp(o,n,f,l,!0)}function oa(s,n){return sy(n,s.syncPointTree_,null,Af(s.pendingWriteTree_,he()))}function sy(s,n,l,r){if(ie(s.path))return ay(s,n,l,r);{const o=n.get(he());l==null&&o!=null&&(l=Rl(o,he()));let f=[];const h=te(s.path),_=s.operationForChild(h),p=n.children.get(h);if(p&&_){const m=l?l.getImmediateChild(h):null,v=Fp(r,h);f=f.concat(sy(_,p,m,v))}return o&&(f=f.concat(wf(o,s,r,l))),f}}function ay(s,n,l,r){const o=n.get(he());l==null&&o!=null&&(l=Rl(o,he()));let f=[];return n.children.inorderTraversal((h,_)=>{const p=l?l.getImmediateChild(h):null,m=Fp(r,h),v=s.operationForChild(h);v&&(f=f.concat(ay(v,_,p,m)))}),o&&(f=f.concat(wf(o,s,r,l))),f}function ry(s,n){const l=n.query,r=Kr(s,l);return{hashFn:()=>(XE(n)||P.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?uC(s,l._path,r):rC(s,l._path);{const f=uS(o,l);return sf(s,l,null,f)}}}}function Kr(s,n){const l=nu(n);return s.queryToTagMap.get(l)}function nu(s){return s._path.toString()+"$"+s._queryIdentifier}function xf(s,n){return s.tagToQueryMap.get(n)}function Mf(s){const n=s.indexOf("$");return H(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new pe(s.substr(0,n))}}function Uf(s,n,l){const r=s.syncPointTree_.get(n);H(r,"Missing sync point for query tag that we're tracking");const o=Af(s.pendingWriteTree_,n);return wf(r,l,o,null)}function fC(s){return s.fold((n,l,r)=>{if(l&&ei(l))return[eu(l)];{let o=[];return l&&(o=ty(l)),ut(r,(f,h)=>{o=o.concat(h)}),o}})}function Ks(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(lC())(s._repo,s._path):s}function hC(s,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=nu(r),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function dC(){return sC++}function _C(s,n,l){const r=n._path,o=Kr(s,n),f=ry(s,l),h=s.listenProvider_.startListening(Ks(n),o,f.hashFn,f.onComplete),_=s.syncPointTree_.subtree(r);if(o)H(!ei(_.value),"If we're adding a query, it shouldn't be shadowed");else{const p=_.fold((m,v,S)=>{if(!ie(m)&&v&&ei(v))return[eu(v).query];{let b=[];return v&&(b=b.concat(ty(v).map(U=>U.query))),ut(S,(U,L)=>{b=b.concat(L)}),b}});for(let m=0;m<p.length;++m){const v=p[m];s.listenProvider_.stopListening(Ks(v),Kr(s,v))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new zf(l)}node(){return this.node_}}class Lf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Be(this.path_,n);return new Lf(this.syncTree_,l)}node(){return Of(this.syncTree_,this.path_)}}const mC=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Ig=function(s,n,l){if(!s||typeof s!="object")return s;if(H(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return gC(s[".sv"],n,l);if(typeof s[".sv"]=="object")return pC(s[".sv"],n);H(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},gC=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:H(!1,"Unexpected server value: "+s)}},pC=function(s,n,l){s.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);const o=n.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},yC=function(s,n,l,r){return Hf(n,new Lf(l,s),r)},uy=function(s,n,l){return Hf(s,new zf(n),l)};function Hf(s,n,l){const r=s.getPriority().val(),o=Ig(r,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,_=Ig(h.getValue(),n,l);return _!==h.getValue()||o!==h.getPriority().val()?new Ze(_,je(o)):s}else{const h=s;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new Ze(o))),h.forEachChild(Me,(_,p)=>{const m=Hf(p,n.getImmediateChild(_),l);m!==p&&(f=f.updateImmediateChild(_,m))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Bf(s,n){let l=n instanceof pe?n:new pe(n),r=s,o=te(l);for(;o!==null;){const f=Dl(r.node.children,o)||{children:{},childCount:0};r=new If(o,r,f),l=Te(l),o=te(l)}return r}function Bl(s){return s.node.value}function oy(s,n){s.node.value=n,af(s)}function cy(s){return s.node.childCount>0}function vC(s){return Bl(s)===void 0&&!cy(s)}function iu(s,n){ut(s.node.children,(l,r)=>{n(new If(l,s,r))})}function fy(s,n,l,r){l&&n(s),iu(s,o=>{fy(o,n,!0)})}function bC(s,n,l){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ca(s){return new pe(s.parent===null?s.name:ca(s.parent)+"/"+s.name)}function af(s){s.parent!==null&&SC(s.parent,s.name,s)}function SC(s,n,l){const r=vC(l),o=tn(s.node.children,n);r&&o?(delete s.node.children[n],s.node.childCount--,af(s)):!r&&!o&&(s.node.children[n]=l.node,s.node.childCount++,af(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/[\[\].#$\/\u0000-\u001F\u007F]/,CC=/[\[\].#$\u0000-\u001F\u007F]/,kc=10*1024*1024,kf=function(s){return typeof s=="string"&&s.length!==0&&!EC.test(s)},hy=function(s){return typeof s=="string"&&s.length!==0&&!CC.test(s)},TC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),hy(s)},dy=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Wr(s)||s&&typeof s=="object"&&tn(s,".sv")},Zr=function(s,n,l,r){r&&n===void 0||lu(wl(s,"value"),n,l)},lu=function(s,n,l){const r=l instanceof pe?new YS(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Ci(r));if(typeof n=="function")throw new Error(s+"contains a function "+Ci(r)+" with contents = "+n.toString());if(Wr(n))throw new Error(s+"contains "+n.toString()+" "+Ci(r));if(typeof n=="string"&&n.length>kc/3&&Fr(n)>kc)throw new Error(s+"contains a string greater than "+kc+" utf8 bytes "+Ci(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(ut(n,(h,_)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!kf(h)))throw new Error(s+" contains an invalid key ("+h+") "+Ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GS(r,h),lu(s,_,r),VS(r)}),o&&f)throw new Error(s+' contains ".value" child '+Ci(r)+" in addition to actual children.")}},AC=function(s,n){let l,r;for(l=0;l<n.length;l++){r=n[l];const f=Js(r);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!kf(f[h]))throw new Error(s+"contains an invalid key ("+f[h]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(jS);let o=null;for(l=0;l<n.length;l++){if(r=n[l],o!==null&&Bt(o,r))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},NC=function(s,n,l,r){const o=wl(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const f=[];ut(n,(h,_)=>{const p=new pe(h);if(lu(o,_,Be(l,p)),pf(p)===".priority"&&!dy(_))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(p)}),AC(o,f)},RC=function(s,n,l){if(Wr(n))throw new Error(wl(s,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!dy(n))throw new Error(wl(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},_y=function(s,n,l,r){if(!hy(l))throw new Error(wl(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DC=function(s,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),_y(s,n,l)},Ri=function(s,n){if(te(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},wC=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!kf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!TC(l))throw new Error(wl(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function qf(s,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!yf(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function my(s,n,l){qf(s,l),gy(s,r=>yf(r,n))}function Tn(s,n,l){qf(s,l),gy(s,r=>Bt(r,n)||Bt(n,r))}function gy(s,n){s.recursionDepth_++;let l=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const f=o.path;n(f)?(xC(s.eventLists_[r]),s.eventLists_[r]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function xC(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const r=l.getEventRunner();Gs&&nt("event: "+l.toString()),Hl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="repo_interrupt",UC=25;class zC{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qr(),this.transactionQueueTree_=new If,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LC(s,n,l){if(s.stats_=mf(s.repoInfo_),s.forceRestClient_||hS())s.server_=new kr(s.repoInfo_,(r,o,f,h)=>{Bg(s,r,o,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>kg(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new Sn(s.repoInfo_,n,(r,o,f,h)=>{Bg(s,r,o,f,h)},r=>{kg(s,r)},r=>{HC(s,r)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=pS(s.repoInfo_,()=>new gE(s.stats_,s.server_)),s.infoData_=new fE,s.infoSyncTree_=new Lg({startListening:(r,o,f,h)=>{let _=[];const p=s.infoData_.getNode(r._path);return p.isEmpty()||(_=tu(s.infoSyncTree_,r._path,p),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),Yf(s,"connected",!1),s.serverSyncTree_=new Lg({startListening:(r,o,f,h)=>(s.server_.listen(r,f,o,(_,p)=>{const m=h(_,p);Tn(s.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function py(s){const l=s.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function jf(s){return mC({timestamp:py(s)})}function Bg(s,n,l,r,o){s.dataUpdateCount++;const f=new pe(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const p=Mr(l,m=>je(m));h=cC(s.serverSyncTree_,f,p,o)}else{const p=je(l);h=oC(s.serverSyncTree_,f,p,o)}else if(r){const p=Mr(l,m=>je(m));h=aC(s.serverSyncTree_,f,p)}else{const p=je(l);h=tu(s.serverSyncTree_,f,p)}let _=f;h.length>0&&(_=su(s,f)),Tn(s.eventQueue_,_,h)}function kg(s,n){Yf(s,"connected",n),n===!1&&BC(s)}function HC(s,n){ut(n,(l,r)=>{Yf(s,l,r)})}function Yf(s,n,l){const r=new pe("/.info/"+n),o=je(l);s.infoData_.updateSnapshot(r,o);const f=tu(s.infoSyncTree_,r,o);Tn(s.eventQueue_,r,f)}function yy(s){return s.nextWriteId_++}function IC(s,n,l,r,o){Gf(s,"set",{path:n.toString(),value:l,priority:r});const f=jf(s),h=je(l,r),_=Of(s.serverSyncTree_,n),p=uy(h,_,f),m=yy(s),v=ly(s.serverSyncTree_,n,p,m,!0);qf(s.eventQueue_,v),s.server_.put(n.toString(),h.val(!0),(b,U)=>{const L=b==="ok";L||pt("set at "+n+" failed: "+b);const G=Ni(s.serverSyncTree_,m,!L);Tn(s.eventQueue_,n,G),Ul(s,o,b,U)});const S=Cy(s,n);su(s,S),Tn(s.eventQueue_,S,[])}function BC(s){Gf(s,"onDisconnectEvents");const n=jf(s),l=qr();Jc(s.onDisconnect_,he(),(o,f)=>{const h=yC(o,f,s.serverSyncTree_,n);Il(l,o,h)});let r=[];Jc(l,he(),(o,f)=>{r=r.concat(tu(s.serverSyncTree_,o,f));const h=Cy(s,o);su(s,h)}),s.onDisconnect_=qr(),Tn(s.eventQueue_,he(),r)}function kC(s,n,l){s.server_.onDisconnectCancel(n.toString(),(r,o)=>{r==="ok"&&Wc(s.onDisconnect_,n),Ul(s,l,r,o)})}function qg(s,n,l,r){const o=je(l);s.server_.onDisconnectPut(n.toString(),o.val(!0),(f,h)=>{f==="ok"&&Il(s.onDisconnect_,n,o),Ul(s,r,f,h)})}function qC(s,n,l,r,o){const f=je(l,r);s.server_.onDisconnectPut(n.toString(),f.val(!0),(h,_)=>{h==="ok"&&Il(s.onDisconnect_,n,f),Ul(s,o,h,_)})}function jC(s,n,l,r){if(Yc(l)){nt("onDisconnect().update() called with empty data.  Don't do anything."),Ul(s,r,"ok",void 0);return}s.server_.onDisconnectMerge(n.toString(),l,(o,f)=>{o==="ok"&&ut(l,(h,_)=>{const p=je(_);Il(s.onDisconnect_,Be(n,h),p)}),Ul(s,r,o,f)})}function YC(s,n,l){let r;te(n._path)===".info"?r=Hg(s.infoSyncTree_,n,l):r=Hg(s.serverSyncTree_,n,l),my(s.eventQueue_,n._path,r)}function GC(s,n,l){let r;te(n._path)===".info"?r=sf(s.infoSyncTree_,n,l):r=sf(s.serverSyncTree_,n,l),my(s.eventQueue_,n._path,r)}function VC(s){s.persistentConnection_&&s.persistentConnection_.interrupt(MC)}function Gf(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),nt(l,...n)}function Ul(s,n,l,r){n&&Hl(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function vy(s,n,l){return Of(s.serverSyncTree_,n,l)||P.EMPTY_NODE}function Vf(s,n=s.transactionQueueTree_){if(n||au(s,n),Bl(n)){const l=Sy(s,n);H(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&QC(s,ca(n),l)}else cy(n)&&iu(n,l=>{Vf(s,l)})}function QC(s,n,l){const r=l.map(m=>m.currentWriteId),o=vy(s,n,r);let f=o;const h=o.hash();for(let m=0;m<l.length;m++){const v=l[m];H(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const S=mt(n,v.path);f=f.updateChild(S,v.currentOutputSnapshotRaw)}const _=f.val(!0),p=n;s.server_.put(p.toString(),_,m=>{Gf(s,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const S=[];for(let b=0;b<l.length;b++)l[b].status=2,v=v.concat(Ni(s.serverSyncTree_,l[b].currentWriteId)),l[b].onComplete&&S.push(()=>l[b].onComplete(null,!0,l[b].currentOutputSnapshotResolved)),l[b].unwatcher();au(s,Bf(s.transactionQueueTree_,n)),Vf(s,s.transactionQueueTree_),Tn(s.eventQueue_,n,v);for(let b=0;b<S.length;b++)Hl(S[b])}else{if(m==="datastale")for(let S=0;S<l.length;S++)l[S].status===3?l[S].status=4:l[S].status=0;else{pt("transaction at "+p.toString()+" failed: "+m);for(let S=0;S<l.length;S++)l[S].status=4,l[S].abortReason=m}su(s,n)}},h)}function su(s,n){const l=by(s,n),r=ca(l),o=Sy(s,l);return XC(s,o,r),r}function XC(s,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(_=>_.status===0).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const p=n[_],m=mt(l,p.path);let v=!1,S;if(H(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,S=p.abortReason,o=o.concat(Ni(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=UC)v=!0,S="maxretry",o=o.concat(Ni(s.serverSyncTree_,p.currentWriteId,!0));else{const b=vy(s,p.path,h);p.currentInputSnapshot=b;const U=n[_].update(b.val());if(U!==void 0){lu("transaction failed: Data returned ",U,p.path);let L=je(U);typeof U=="object"&&U!=null&&tn(U,".priority")||(L=L.updatePriority(b.getPriority()));const F=p.currentWriteId,_e=jf(s),Ae=uy(L,b,_e);p.currentOutputSnapshotRaw=L,p.currentOutputSnapshotResolved=Ae,p.currentWriteId=yy(s),h.splice(h.indexOf(F),1),o=o.concat(ly(s.serverSyncTree_,p.path,Ae,p.currentWriteId,p.applyLocally)),o=o.concat(Ni(s.serverSyncTree_,F,!0))}else v=!0,S="nodata",o=o.concat(Ni(s.serverSyncTree_,p.currentWriteId,!0))}Tn(s.eventQueue_,l,o),o=[],v&&(n[_].status=2,(function(b){setTimeout(b,Math.floor(0))})(n[_].unwatcher),n[_].onComplete&&(S==="nodata"?r.push(()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot)):r.push(()=>n[_].onComplete(new Error(S),!1,null))))}au(s,s.transactionQueueTree_);for(let _=0;_<r.length;_++)Hl(r[_]);Vf(s,s.transactionQueueTree_)}function by(s,n){let l,r=s.transactionQueueTree_;for(l=te(n);l!==null&&Bl(r)===void 0;)r=Bf(r,l),n=Te(n),l=te(n);return r}function Sy(s,n){const l=[];return Ey(s,n,l),l.sort((r,o)=>r.order-o.order),l}function Ey(s,n,l){const r=Bl(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);iu(n,o=>{Ey(s,o,l)})}function au(s,n){const l=Bl(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,oy(n,l.length>0?l:void 0)}iu(n,r=>{au(s,r)})}function Cy(s,n){const l=ca(by(s,n)),r=Bf(s.transactionQueueTree_,n);return bC(r,o=>{qc(s,o)}),qc(s,r),fy(r,o=>{qc(s,o)}),l}function qc(s,n){const l=Bl(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(H(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(H(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(Ni(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?oy(n,void 0):l.length=f+1,Tn(s.eventQueue_,ca(n),o);for(let h=0;h<r.length;h++)Hl(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(s){let n="";const l=s.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function ZC(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pt(`Invalid query segment '${l}' in query '${s}'`)}return n}const jg=function(s,n){const l=PC(s),r=l.namespace;l.domain==="firebase.com"&&Cn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||iS();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Dp(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new pe(l.pathString)}},PC=function(s){let n="",l="",r="",o="",f="",h=!0,_="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(_=s.substring(0,m-1),s=s.substring(m+2));let v=s.indexOf("/");v===-1&&(v=s.length);let S=s.indexOf("?");S===-1&&(S=s.length),n=s.substring(0,Math.min(v,S)),v<S&&(o=KC(s.substring(v,S)));const b=ZC(s.substring(Math.min(s.length,S)));m=n.indexOf(":"),m>=0?(h=_==="https"||_==="wss",p=parseInt(n.substring(m+1),10)):m=n.length;const U=n.slice(0,m);if(U.toLowerCase()==="localhost")l="localhost";else if(U.split(".").length<=2)l=U;else{const L=n.indexOf(".");r=n.substring(0,L).toLowerCase(),l=n.substring(L+1),f=r}"ns"in b&&(f=b.ns)}return{host:n,port:p,domain:l,subdomain:r,secure:h,scheme:_,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",FC=(function(){let s=0;const n=[];return function(l){const r=l===s;s=l;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Yg.charAt(l%64),l=Math.floor(l/64);H(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=Yg.charAt(n[o]);return H(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}}class JC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(n,l){this._repo=n,this._path=l}cancel(){const n=new vn;return kC(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ri("OnDisconnect.remove",this._path);const n=new vn;return qg(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ri("OnDisconnect.set",this._path),Zr("OnDisconnect.set",n,this._path,!1);const l=new vn;return qg(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}setWithPriority(n,l){Ri("OnDisconnect.setWithPriority",this._path),Zr("OnDisconnect.setWithPriority",n,this._path,!1),RC("OnDisconnect.setWithPriority",l);const r=new vn;return qC(this._repo,this._path,n,l,r.wrapCallback(()=>{})),r.promise}update(n){Ri("OnDisconnect.update",this._path),NC("OnDisconnect.update",n,this._path);const l=new vn;return jC(this._repo,this._path,n,l.wrapCallback(()=>{})),l.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return ie(this._path)?null:pf(this._path)}get ref(){return new ti(this._repo,this._path)}get _queryIdentifier(){const n=Tg(this._queryParams),l=df(n);return l==="{}"?"default":l}get _queryObject(){return Tg(this._queryParams)}isEqual(n){if(n=Ui(n),!(n instanceof Qf))return!1;const l=this._repo===n._repo,r=yf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+qS(this._path)}}class ti extends Qf{constructor(n,l){super(n,l,new Ef,!1)}get parent(){const n=Ip(this._path);return n===null?null:new ti(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Pr{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new pe(n),r=zl(this.ref,n);return new Pr(this._node.getChild(l),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new Pr(o,zl(this.ref,r),Me)))}hasChild(n){const l=new pe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jt(s,n){return s=Ui(s),s._checkNotDeleted("ref"),n!==void 0?zl(s._root,n):s._root}function zl(s,n){return s=Ui(s),te(s._path)===null?DC("child","path",n):_y("child","path",n),new ti(s._repo,Be(s._path,n))}function tT(s){return s=Ui(s),new eT(s._repo,s._path)}function nT(s,n){s=Ui(s),Ri("push",s._path),Zr("push",n,s._path,!0);const l=py(s._repo),r=FC(l),o=zl(s,r),f=zl(s,r);let h;return n!=null?h=fa(f,n).then(()=>f):h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function iT(s){return Ri("remove",s._path),fa(s,null)}function fa(s,n){s=Ui(s),Ri("set",s._path),Zr("set",n,s._path,!1);const l=new vn;return IC(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}class Xf{constructor(n,l){this.eventType=n,this.callbackContext=l}respondsTo(n){let l=n==="children_added"?"child_added":n;return l=l==="children_removed"?"child_removed":l,this.eventType===l}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new JC(this,n,l):null}createEvent(n,l){H(n.childName!=null,"Child events should have a childName.");const r=zl(new ti(l._repo,l._path),n.childName),o=l._queryParams.getIndex();return new WC(n.type,this,new Pr(n.snapshotNode,r,o),n.prevName)}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof Xf?this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function lT(s,n,l,r,o){const f=new $C(l,void 0),h=new Xf(n,f);return YC(s._repo,s,h),()=>GC(s._repo,s,h)}function la(s,n,l,r){return lT(s,"child_added",n)}WE(ti);iC(ti);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="FIREBASE_DATABASE_EMULATOR_HOST",rf={};let aT=!1;function rT(s,n,l,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=ff(f);s.repoInfo_=new Dp(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(s.authTokenProvider_=r)}function uT(s,n,l,r,o){let f=r||s.options.databaseURL;f===void 0&&(s.options.projectId||Cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=jg(f,o),_=h.repoInfo,p;typeof process<"u"&&ag&&(p=ag[sT]),p?(f=`http://${p}?ns=${_.namespace}`,h=jg(f,o),_=h.repoInfo):h.repoInfo.secure;const m=new _S(s.name,s.options,n);wC("Invalid Firebase Database URL",h),ie(h.path)||Cn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=cT(_,s,m,new dS(s,l));return new fT(v,s)}function oT(s,n){const l=rf[n];(!l||l[s.key]!==s)&&Cn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),VC(s),delete l[s.key]}function cT(s,n,l,r){let o=rf[n.name];o||(o={},rf[n.name]=o);let f=o[s.toURLString()];return f&&Cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new zC(s,aT,l,r),o[s.toURLString()]=f,f}class fT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ti(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Cn("Cannot call "+n+" on a deleted database.")}}function hT(s=Bb(),n){const l=Ub(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=y1("database");r&&dT(l,...r)}return l}function dT(s,n,l,r={}){s=Ui(s),s._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Ur(r,f.repoInfo_.emulatorOptions))return;Cn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Or(Or.OWNER);else if(r.mockUserToken){const _=typeof r.mockUserToken=="string"?r.mockUserToken:b1(r.mockUserToken,s.app.options.projectId);h=new Or(_)}ff(n)&&(v1(n),C1("Database",!0)),rT(f,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(s){Wb(Ib),Lr(new Ps("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return uT(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Tl(rg,ug,s),Tl(rg,ug,"esm2020")}Sn.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};Sn.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};_T();const mT={apiKey:"",authDomain:"watchtask-35eb1.firebaseapp.com",databaseURL:"https://watchtask-35eb1-default-rtdb.firebaseio.com",projectId:"watchtask-35eb1",storageBucket:"watchtask-35eb1.appspot.com",messagingSenderId:"421711878688",appId:"1:421711878688:web:xxxxxxxxxxxxxxxx"},gT=fp(mT),$t=hT(gT),en="Cartocor";function pT(s,n="guest"){const l=Jt($t,`${en}/${s}`),r=Jt($t,`${en}/${s}/peerID`);return fa(r,{role:n,lastSeen:Date.now()}),tT(l).remove(),l}function yT(s,n,l){return fa(Jt($t,`${en}/${n}/offers/${s}`),l)}function vT(s,n){const l=Jt($t,`${en}`),r=la(l,o=>{const f=o.key;if(f&&f!==n){const h=o.val().peerID;s(_=>new Map(_).set(f,h))}});return()=>r()}function bT(s,n,l){return fa(Jt($t,`${en}/${n}/answers/${s}`),l)}function ST(s,n){const l=Jt($t,`${en}/${s}/offers`),r=la(l,o=>{const f=o.key;f&&n(f,o.val())});return()=>r()}function ET(s,n){const l=Jt($t,`${en}/${s}/answers`),r=la(l,o=>{const f=o.key;f&&n(f,o.val())});return()=>r()}function CT(s,n,l){return nT(Jt($t,`${en}/${n}/ice/${s}`),l)}function TT(s,n){const l=Jt($t,`${en}/${s}/ice`),r=new Map,o=la(l,f=>{const h=f.key;if(!h)return;const _=Jt($t,`${en}/${s}/ice/${h}`),p=la(_,m=>{const v=m.val();n(h,v),iT(m.ref).catch(()=>{})});r.set(h,p)});return()=>{try{o()}catch{}r.forEach(f=>{try{f()}catch{}}),r.clear()}}async function AT(s){if(Array.isArray(s))for(const n of s)await Zg("public_users",n)}/**
 * uuidv7: A JavaScript implementation of UUID version 7
 *
 * Copyright 2021-2024 LiosK
 *
 * @license Apache-2.0
 * @packageDocumentation
 */const wr="0123456789abcdef";class Di{constructor(n){this.bytes=n}static ofInner(n){if(n.length!==16)throw new TypeError("not 128-bit length");return new Di(n)}static fromFieldsV7(n,l,r,o){if(!Number.isInteger(n)||!Number.isInteger(l)||!Number.isInteger(r)||!Number.isInteger(o)||n<0||l<0||r<0||o<0||n>0xffffffffffff||l>4095||r>1073741823||o>4294967295)throw new RangeError("invalid field value");const f=new Uint8Array(16);return f[0]=n/2**40,f[1]=n/2**32,f[2]=n/2**24,f[3]=n/2**16,f[4]=n/2**8,f[5]=n,f[6]=112|l>>>8,f[7]=l,f[8]=128|r>>>24,f[9]=r>>>16,f[10]=r>>>8,f[11]=r,f[12]=o>>>24,f[13]=o>>>16,f[14]=o>>>8,f[15]=o,new Di(f)}static parse(n){var l,r,o,f;let h;switch(n.length){case 32:h=(l=/^[0-9a-f]{32}$/i.exec(n))===null||l===void 0?void 0:l[0];break;case 36:h=(r=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(n))===null||r===void 0?void 0:r.slice(1,6).join("");break;case 38:h=(o=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(n))===null||o===void 0?void 0:o.slice(1,6).join("");break;case 45:h=(f=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(n))===null||f===void 0?void 0:f.slice(1,6).join("");break}if(h){const _=new Uint8Array(16);for(let p=0;p<16;p+=4){const m=parseInt(h.substring(2*p,2*p+8),16);_[p+0]=m>>>24,_[p+1]=m>>>16,_[p+2]=m>>>8,_[p+3]=m}return new Di(_)}else throw new SyntaxError("could not parse UUID string")}toString(){let n="";for(let l=0;l<this.bytes.length;l++)n+=wr.charAt(this.bytes[l]>>>4),n+=wr.charAt(this.bytes[l]&15),(l===3||l===5||l===7||l===9)&&(n+="-");return n}toHex(){let n="";for(let l=0;l<this.bytes.length;l++)n+=wr.charAt(this.bytes[l]>>>4),n+=wr.charAt(this.bytes[l]&15);return n}toJSON(){return this.toString()}getVariant(){const n=this.bytes[8]>>>4;if(n<0)throw new Error("unreachable");if(n<=7)return this.bytes.every(l=>l===0)?"NIL":"VAR_0";if(n<=11)return"VAR_10";if(n<=13)return"VAR_110";if(n<=15)return this.bytes.every(l=>l===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new Di(this.bytes.slice(0))}equals(n){return this.compareTo(n)===0}compareTo(n){for(let l=0;l<16;l++){const r=this.bytes[l]-n.bytes[l];if(r!==0)return Math.sign(r)}return 0}}class NT{constructor(n){this.timestamp=0,this.counter=0,this.random=n??RT()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(n,l){let r=this.generateOrAbortCore(n,l);return r===void 0&&(this.timestamp=0,r=this.generateOrAbortCore(n,l)),r}generateOrAbortCore(n,l){if(!Number.isInteger(n)||n<1||n>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit positive integer");if(l<0||l>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(n>this.timestamp)this.timestamp=n,this.resetCounter();else if(n+l>=this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return Di.fromFieldsV7(this.timestamp,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const n=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return n[6]=64|n[6]>>>4,n[8]=128|n[8]>>>2,Di.ofInner(n)}}const RT=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new DT;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class DT{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let Gg;const Vg=()=>wT().toString(),wT=()=>(Gg||(Gg=new NT)).generate(),OT=[{urls:"stun:stun.l.google.com:19302"}],Qg="p2p_peer_id",Dt=(()=>{try{let s=localStorage.getItem(Qg);return s||(s=Vg(),localStorage.setItem(Qg,s)),s}catch{return Vg()}})();function Xg(){return Dt?pT(Dt):void 0}function Kg(s){return vT(s,Dt)}async function xT(s,n,l){for(const r of s.keys())r!==Dt&&await Ty(r,n,l)}async function Ty(s,n,l){return new Promise(async(r,o)=>{const f=n?n instanceof Map?n.has(s):!!n[s]:!1;if(!s||f)return o("Invalid remoteId");const h=new RTCPeerConnection({iceServers:OT}),_=[];let p=null;const m=[],v=S=>{h.dataChannel=S,p=S,p.onopen=()=>{let b={type:"greeting",payload:`Hola, mundo! ${Dt}`};p.send(JSON.stringify(b)),m.forEach(U=>{try{typeof U=="function"&&U()}catch{}}),r(h)},p.onmessage=b=>{try{const U=JSON.parse(b.data);UT(s,U)}catch(U){console.error("Error parsing P2P message:",U)}}};h.onicecandidate=S=>{if(S.candidate){const b=S.candidate.toJSON?S.candidate.toJSON():S.candidate;CT(Dt,s,b)}},h.onsignalingstatechange=()=>{console.debug("signalingState",s,h.signalingState)};try{const S=String(Dt)<String(s),b=TT(Dt,async(U,L)=>{if(U===s)if(h.remoteDescription)try{await h.addIceCandidate(new RTCIceCandidate(L))}catch(G){console.error("Error adding ICE candidate:",G)}else _.push(L)});if(m.push(b),S){v(h.createDataChannel("dataChannel"));const U=ET(Dt,async(G,F)=>{if(G===s&&h.signalingState==="have-local-offer")try{for(await h.setRemoteDescription(new RTCSessionDescription(F));_.length;){const _e=_.shift();try{await h.addIceCandidate(new RTCIceCandidate(_e))}catch(Ae){console.warn("Error flushing ICE candidate",Ae)}}}catch(_e){console.warn("Ignoring remote answer (state)",_e)}});m.push(U);const L=await h.createOffer();await h.setLocalDescription(L),await yT(Dt,s,L)}else{h.ondatachannel=L=>v(L.channel);const U=ST(Dt,async(L,G)=>{if(L===s){if(h.signalingState!=="stable"){console.warn("Received offer while not stable; dropping to avoid glare",h.signalingState);return}try{await h.setRemoteDescription(new RTCSessionDescription(G));const F=await h.createAnswer();for(await h.setLocalDescription(F),await bT(Dt,s,F);_.length;){const _e=_.shift();try{await h.addIceCandidate(new RTCIceCandidate(_e))}catch(Ae){console.warn("Error flushing ICE candidate",Ae)}}}catch(F){console.error("Error handling incoming offer:",F)}}});m.push(U)}}catch(S){console.error("Error creating connection to",s,S),h.close(),o(S)}h.connectionState==="failed"&&(console.error("Connection failed to",s),h.close(),o("Connection failed")),setTimeout(()=>{h.connectionState!=="connected"&&(console.error("Connection timeout to",s),h.close(),o("Connection timeout"))},3e4),MT(s,h,l)})}function MT(s,n,l){typeof l=="function"&&l(r=>{if(r instanceof Map){const f=new Map(r);return f.set(s,n),f}const o={...r||{}};return o[s]=n,o})}function UT(s,n){switch(n.type){case"syncPublicDB":AT(n.payload);break;case"newData":zT(n.payload);break;case"greeting":console.log("Received greeting from",s,n.payload);break;case"ping":console.log("Received ping from",s,n.at);break;default:console.warn("Tipo de mensaje P2P desconocido:",n.type)}}function zT(s){console.log("newData recibido",s)}const Ay=Ie.createContext();function LT({children:s}){const[n,l]=Ie.useState(new Map),[r,o]=Ie.useState(new Map),[f,h]=Ie.useState(navigator.onLine);Ie.useEffect(()=>{function v(){for(const b of n.keys())p(b);h(!0),l(new Map),o(new Map),localStorage.removeItem("p2p_peer_id"),Xg(),Kg(o)}function S(){h(!1)}return window.addEventListener("online",v),window.addEventListener("offline",S),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",S)}},[]),Ie.useEffect(()=>{Xg();const v=Kg(o);return()=>{typeof v=="function"&&v()}},[]),Ie.useEffect(()=>{xT(r,n,l)},[r]);async function _(v){await Ty(v,n,l)}function p(v){const S=n instanceof Map?n.get(v):n&&n[v];if(S){try{S.close()}catch{}l(b=>{if(b instanceof Map){const L=new Map(b);return L.delete(v),L}const U={...b||{}};return delete U[v],U})}}async function m(v,S){const b=n instanceof Map?n.get(v):n&&n[v];b&&b.dataChannel&&b.dataChannel.readyState==="open"&&b.dataChannel.send(JSON.stringify(S))}return I.jsx(Ay.Provider,{value:{peerConnections:n,connectToPeer:_,disconnectPeer:p,sendMessage:m},children:s})}function HT(){const{user:s,role:n,login:l,logout:r}=Ie.useContext(Wg),{dbReady:o,publicDB:f,syncPublicDB:h,getPublicUsers:_,verifyCredentials:p,exportPublicDB:m}=Ie.useContext(Jg),{peerConnections:v,connectToPeer:S,disconnectPeer:b,sendMessage:U}=Ie.useContext(Ay),[L,G]=Ie.useState({username:"",password:""}),[F,_e]=Ie.useState(""),Ae=Ie.useMemo(()=>v instanceof Map?Array.from(v.entries()):Object.entries(v||{}),[v]),Se=Ae.length;async function We($){$.preventDefault(),_e("Verificando…");const de=await l(L.username.trim(),L.password);_e(de?"Autenticado":"Credenciales inválidas")}async function re($){const de=await m();await U($,{type:"syncPublicDB",payload:de}),_e(`Enviado ${de?.length??0} usuarios a ${$}`)}function Je({label:$,value:de}){return I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"muted",children:$}),I.jsx("div",{className:"text-2xl font-semibold",children:de})]})}return I.jsxs("div",{className:"min-h-dvh flex flex-col",children:[I.jsx("header",{className:"bg-white border-b border-gray-200",children:I.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-3 flex items-center justify-between",children:[I.jsx("div",{className:"flex items-center gap-3",children:I.jsx("h1",{className:"text-lg font-semibold text-blue-700",children:"WatchTask"})}),I.jsx("div",{className:"text-sm text-gray-600",children:s?I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsxs("span",{children:["Sesión: ",I.jsx("strong",{children:s})," · Rol:"," ",I.jsx("strong",{children:n||"—"})]}),I.jsx("button",{className:"btn btn-outline",onClick:r,children:"Cerrar sesión"})]}):I.jsx("span",{className:"muted",children:"No autenticado"})})]})}),I.jsxs("main",{className:"max-w-5xl mx-auto w-full px-4 py-6 flex-1 space-y-6",children:[!s&&I.jsxs("section",{className:"card",children:[I.jsx("h2",{className:"heading",children:"Ingreso"}),I.jsxs("form",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 items-end",onSubmit:We,children:[I.jsxs("label",{className:"block",children:[I.jsx("span",{className:"muted",children:"Usuario"}),I.jsx("input",{className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2",value:L.username,onChange:$=>G(de=>({...de,username:$.target.value})),autoComplete:"username",required:!0})]}),I.jsxs("label",{className:"block",children:[I.jsx("span",{className:"muted",children:"Contraseña"}),I.jsx("input",{type:"password",className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2",value:L.password,onChange:$=>G(de=>({...de,password:$.target.value})),autoComplete:"current-password",required:!0})]}),I.jsx("div",{children:I.jsx("button",{className:"btn btn-primary w-full",type:"submit",disabled:!o,children:o?"Ingresar":"Preparando DB…"})})]}),F&&I.jsx("p",{className:"mt-3 text-sm text-gray-600",children:F})]}),I.jsxs("section",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[I.jsx(Je,{label:"DB local",value:o?"Lista":"Cargando…"}),I.jsx(Je,{label:"Usuarios públicos",value:f?.length??0}),I.jsx(Je,{label:"Peers conectados",value:Se})]}),I.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"card",children:[I.jsx("h2",{className:"heading",children:"Base pública"}),I.jsxs("div",{className:"flex gap-2 mb-3",children:[I.jsx("button",{className:"btn btn-primary",onClick:async()=>{const $=Math.random().toString(36).slice(2,10),de=await of("demo"+$);await h([{username:"demo",role:"admin",salt:$,hash:de}]),_e("Usuario demo creado: demo/demo")},disabled:!o,children:"Crear usuario demo"}),I.jsx("button",{className:"btn btn-outline",onClick:async()=>{const $=await _();_e(`Hay ${$.length} usuarios en DB`)},disabled:!o,children:"Contar usuarios"})]}),I.jsxs("ul",{className:"messages",children:[(f||[]).slice(0,10).map($=>I.jsxs("li",{className:"flex justify-between",children:[I.jsxs("span",{children:["@",$.username]}),I.jsx("span",{className:"muted",children:$.role})]},$.username)),!f?.length&&I.jsx("li",{className:"muted",children:"Sin registros"})]})]}),I.jsxs("div",{className:"card",children:[I.jsx("h2",{className:"heading",children:"P2P"}),I.jsxs("p",{className:"muted mb-2",children:["Mi peerId: ",Dt]}),I.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[I.jsx("input",{placeholder:"peer-id remoto",className:"rounded-md border border-gray-300 px-3 py-2",value:L.peerId||"",onChange:$=>G(de=>({...de,peerId:$.target.value}))}),I.jsx("button",{className:"btn btn-primary",onClick:()=>L.peerId&&S(L.peerId),children:"Conectar"}),I.jsx("button",{className:"btn btn-outline",onClick:()=>L.peerId&&b(L.peerId),children:"Desconectar"}),I.jsx("button",{className:"btn btn-outline",onClick:()=>L.peerId&&re(L.peerId),children:"Enviar DB pública"})]}),I.jsxs("ul",{className:"messages",children:[Ae.map(([$,de])=>I.jsxs("li",{className:"flex items-center justify-between gap-3",children:[I.jsxs("div",{children:[I.jsx("strong",{children:$}),I.jsx("span",{className:"ml-2 muted",children:de.connectionState})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{className:"btn btn-outline",onClick:()=>b($),children:"Cerrar"}),I.jsx("button",{className:"btn btn-primary",onClick:()=>U($,{type:"ping",at:Date.now()}),children:"Ping"})]})]},$)),!Se&&I.jsx("li",{className:"muted",children:"Sin peers conectados"})]})]})]}),F&&I.jsxs("div",{className:"card",children:[I.jsx("h3",{className:"heading",children:"Estado"}),I.jsx("p",{className:"text-sm text-gray-700",children:F})]})]}),I.jsx("footer",{className:"mt-auto bg-white border-t border-gray-200",children:I.jsx("div",{className:"max-w-5xl mx-auto px-4 py-3 text-xs text-gray-500 flex items-center justify-between",children:I.jsxs("span",{children:["© ",new Date().getFullYear()," WatchTask v0.0.1"]})})})]})}i1.createRoot(document.getElementById("root")).render(I.jsx(Ie.StrictMode,{children:I.jsx(a1,{children:I.jsx(LT,{children:I.jsx(r1,{children:I.jsx(HT,{})})})})}));
